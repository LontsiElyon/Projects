<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>informatics-project-simon-goes-multiplayer-group-a: ObjectController</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">informatics-project-simon-goes-multiplayer-group-a<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('group__ObjectController.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#namespaces">Packages</a> &#124;
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">ObjectController</div></div>
</div><!--header-->
<div class="contents">

<p>Group for ObjectController class and its related components.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="namespaces" name="namespaces"></a>
Packages</h2></td></tr>
<tr class="memitem:namespacecom_1_1example_1_1controller" id="r_namespacecom_1_1example_1_1controller"><td class="memItemLeft" align="right" valign="top">package &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacecom_1_1example_1_1controller.html">com.example.controller</a></td></tr>
<tr class="memdesc:namespacecom_1_1example_1_1controller"><td class="mdescLeft">&#160;</td><td class="mdescRight">Description of the package. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1example_1_1controller_1_1ObjectController.html">com.example.controller.ObjectController</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles HTTP routes and MQTT messages for controller management.  <a href="classcom_1_1example_1_1controller_1_1ObjectController.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga835f4dc90392e58c61095593bc8dd22f" id="r_ga835f4dc90392e58c61095593bc8dd22f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ObjectController.html#ga835f4dc90392e58c61095593bc8dd22f">com.example.controller.ObjectController.ObjectController</a> (Router router, ObjectService <a class="el" href="classcom_1_1example_1_1controller_1_1ObjectController.html#a999b17a3da5026b8f5ffa08fc39e2ece">objectService</a>, MqttClient <a class="el" href="classcom_1_1example_1_1controller_1_1ObjectController.html#a0e8da72805cfdb56e88b5ab6a838f345">mqttClient</a>)</td></tr>
<tr class="memdesc:ga835f4dc90392e58c61095593bc8dd22f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor for ObjectController class.  <br /></td></tr>
<tr class="separator:ga835f4dc90392e58c61095593bc8dd22f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac3b127ab502a4f74e2a1a65be5554172" id="r_gac3b127ab502a4f74e2a1a65be5554172"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ObjectController.html#gac3b127ab502a4f74e2a1a65be5554172">com.example.controller.ObjectController.setupMqttHandlers</a> ()</td></tr>
<tr class="memdesc:gac3b127ab502a4f74e2a1a65be5554172"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets up MQTT message handlers for controller interactions.  <br /></td></tr>
<tr class="separator:gac3b127ab502a4f74e2a1a65be5554172"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga25aa83340566181b97734d5b05138e1a" id="r_ga25aa83340566181b97734d5b05138e1a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ObjectController.html#ga25aa83340566181b97734d5b05138e1a">com.example.controller.ObjectController.handleControllerConnect</a> (Buffer payload)</td></tr>
<tr class="memdesc:ga25aa83340566181b97734d5b05138e1a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles controller connection via MQTT message.  <br /></td></tr>
<tr class="separator:ga25aa83340566181b97734d5b05138e1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaeb2269378eb0e6de0525328e6bb0a1f0" id="r_gaeb2269378eb0e6de0525328e6bb0a1f0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ObjectController.html#gaeb2269378eb0e6de0525328e6bb0a1f0">com.example.controller.ObjectController.handleControllerHeartbeat</a> (Buffer payload)</td></tr>
<tr class="memdesc:gaeb2269378eb0e6de0525328e6bb0a1f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles heartbeats from controllers via MQTT message.  <br /></td></tr>
<tr class="separator:gaeb2269378eb0e6de0525328e6bb0a1f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa1420ca36fd8c2244141b2e52ff394c9" id="r_gaa1420ca36fd8c2244141b2e52ff394c9"><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ObjectController.html#gaa1420ca36fd8c2244141b2e52ff394c9">com.example.controller.ObjectController.isControllerActive</a> (String <a class="el" href="main_8cpp.html#a70bc8ad43b183ea20b92a43f8db65e58">controllerId</a>)</td></tr>
<tr class="memdesc:gaa1420ca36fd8c2244141b2e52ff394c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles heartbeats from controllers via MQTT message.  <br /></td></tr>
<tr class="separator:gaa1420ca36fd8c2244141b2e52ff394c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae90804dd19d484e388fab44bab8b745d" id="r_gae90804dd19d484e388fab44bab8b745d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ObjectController.html#gae90804dd19d484e388fab44bab8b745d">com.example.controller.ObjectController.handleFetchControllers</a> (RoutingContext ctx)</td></tr>
<tr class="memdesc:gae90804dd19d484e388fab44bab8b745d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles fetching available controllers via HTTP GET.  <br /></td></tr>
<tr class="separator:gae90804dd19d484e388fab44bab8b745d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadca9c59c49ea53cbd91300db4d3e144a" id="r_gadca9c59c49ea53cbd91300db4d3e144a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ObjectController.html#gadca9c59c49ea53cbd91300db4d3e144a">com.example.controller.ObjectController.handleLogin</a> (RoutingContext ctx)</td></tr>
<tr class="memdesc:gadca9c59c49ea53cbd91300db4d3e144a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles player login via HTTP POST.  <br /></td></tr>
<tr class="separator:gadca9c59c49ea53cbd91300db4d3e144a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab58e53b4e4f5f96c07cfe5992bf2bcb1" id="r_gab58e53b4e4f5f96c07cfe5992bf2bcb1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ObjectController.html#gab58e53b4e4f5f96c07cfe5992bf2bcb1">com.example.controller.ObjectController.handleRfidScan</a> (Buffer payload)</td></tr>
<tr class="memdesc:gab58e53b4e4f5f96c07cfe5992bf2bcb1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles incoming RFID scan messages from controllers via MQTT.  <br /></td></tr>
<tr class="separator:gab58e53b4e4f5f96c07cfe5992bf2bcb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab636e581cc671a10d33af23559e4d715" id="r_gab636e581cc671a10d33af23559e4d715"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ObjectController.html#gab636e581cc671a10d33af23559e4d715">com.example.controller.ObjectController.handleGenerateSequence</a> (RoutingContext routingContext)</td></tr>
<tr class="memdesc:gab636e581cc671a10d33af23559e4d715"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles the generation of a color sequence for a game.  <br /></td></tr>
<tr class="separator:gab636e581cc671a10d33af23559e4d715"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8a4bafbfb66abceed4fd0defc3632c91" id="r_ga8a4bafbfb66abceed4fd0defc3632c91"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ObjectController.html#ga8a4bafbfb66abceed4fd0defc3632c91">com.example.controller.ObjectController.handleSequenceRequest</a> (Buffer payload)</td></tr>
<tr class="memdesc:ga8a4bafbfb66abceed4fd0defc3632c91"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles a request from the controller for the next color sequence.  <br /></td></tr>
<tr class="separator:ga8a4bafbfb66abceed4fd0defc3632c91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaeecefc5fed1967371a6fab2edb72880c" id="r_gaeecefc5fed1967371a6fab2edb72880c"><td class="memItemLeft" align="right" valign="top">Future&lt; Void &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ObjectController.html#gaeecefc5fed1967371a6fab2edb72880c">com.example.controller.ObjectController.sendNextSequence</a> (List&lt; String &gt; controllers)</td></tr>
<tr class="memdesc:gaeecefc5fed1967371a6fab2edb72880c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends the next color sequence to the list of controllers.  <br /></td></tr>
<tr class="separator:gaeecefc5fed1967371a6fab2edb72880c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga443e7374209f158597e1a6f70d5aae71" id="r_ga443e7374209f158597e1a6f70d5aae71"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ObjectController.html#ga443e7374209f158597e1a6f70d5aae71">com.example.controller.ObjectController.notifyControllerOfLoss</a> (String <a class="el" href="main_8cpp.html#a70bc8ad43b183ea20b92a43f8db65e58">controllerId</a>)</td></tr>
<tr class="memdesc:ga443e7374209f158597e1a6f70d5aae71"><td class="mdescLeft">&#160;</td><td class="mdescRight">Notifies a controller when a player has lost the game.  <br /></td></tr>
<tr class="separator:ga443e7374209f158597e1a6f70d5aae71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab69f182a2234d9bff2cc08be20767414" id="r_gab69f182a2234d9bff2cc08be20767414"><td class="memItemLeft" align="right" valign="top">Future&lt; Boolean &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ObjectController.html#gab69f182a2234d9bff2cc08be20767414">com.example.controller.ObjectController.handleColorSequence</a> (Buffer payload)</td></tr>
<tr class="memdesc:gab69f182a2234d9bff2cc08be20767414"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles the incoming color sequence from the controller and compares it with the correct sequence.  <br /></td></tr>
<tr class="separator:gab69f182a2234d9bff2cc08be20767414"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga679b62513a09de532bd1fde5d92e8f38" id="r_ga679b62513a09de532bd1fde5d92e8f38"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ObjectController.html#ga679b62513a09de532bd1fde5d92e8f38">com.example.controller.ObjectController.handlePlayerLoss</a> (String <a class="el" href="main_8cpp.html#a70bc8ad43b183ea20b92a43f8db65e58">controllerId</a>)</td></tr>
<tr class="memdesc:ga679b62513a09de532bd1fde5d92e8f38"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles the event when a player loses the game.  <br /></td></tr>
<tr class="separator:ga679b62513a09de532bd1fde5d92e8f38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaac157ac040acc1443e41b20b54551b19" id="r_gaac157ac040acc1443e41b20b54551b19"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ObjectController.html#gaac157ac040acc1443e41b20b54551b19">com.example.controller.ObjectController.handlePlayerStatus</a> (Buffer payload)</td></tr>
<tr class="memdesc:gaac157ac040acc1443e41b20b54551b19"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles incoming player status updates from controllers via MQTT.  <br /></td></tr>
<tr class="separator:gaac157ac040acc1443e41b20b54551b19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacd8601b8e920274af546dd8f57330e15" id="r_gacd8601b8e920274af546dd8f57330e15"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ObjectController.html#gacd8601b8e920274af546dd8f57330e15">com.example.controller.ObjectController.handleFetchRoundWinner</a> (RoutingContext ctx)</td></tr>
<tr class="memdesc:gacd8601b8e920274af546dd8f57330e15"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles fetching the winner of the current round via an HTTP request.  <br /></td></tr>
<tr class="separator:gacd8601b8e920274af546dd8f57330e15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafaa457c56aa3132d6139fcf6b4e5fd79" id="r_gafaa457c56aa3132d6139fcf6b4e5fd79"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ObjectController.html#gafaa457c56aa3132d6139fcf6b4e5fd79">com.example.controller.ObjectController.startNewRound</a> ()</td></tr>
<tr class="memdesc:gafaa457c56aa3132d6139fcf6b4e5fd79"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts a new game round after all players have lost or the round limit is reached.  <br /></td></tr>
<tr class="separator:gafaa457c56aa3132d6139fcf6b4e5fd79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad4cd39877e47d6564eda466c4a2599ce" id="r_gad4cd39877e47d6564eda466c4a2599ce"><td class="memItemLeft" align="right" valign="top">Future&lt; Void &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ObjectController.html#gad4cd39877e47d6564eda466c4a2599ce">com.example.controller.ObjectController.sendCountdownToAllControllers</a> (List&lt; String &gt; controllers)</td></tr>
<tr class="memdesc:gad4cd39877e47d6564eda466c4a2599ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends a countdown signal to all connected controllers.  <br /></td></tr>
<tr class="separator:gad4cd39877e47d6564eda466c4a2599ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga462d8bf5aec34429c63d3970d323cc16" id="r_ga462d8bf5aec34429c63d3970d323cc16"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ObjectController.html#ga462d8bf5aec34429c63d3970d323cc16">com.example.controller.ObjectController.sendDisplayInfoToController</a> (String <a class="el" href="main_8cpp.html#a70bc8ad43b183ea20b92a43f8db65e58">controllerId</a>)</td></tr>
<tr class="memdesc:ga462d8bf5aec34429c63d3970d323cc16"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends display information to a specific controller.  <br /></td></tr>
<tr class="separator:ga462d8bf5aec34429c63d3970d323cc16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa6d011efe88c319bd8eee8742cbd33ef" id="r_gaa6d011efe88c319bd8eee8742cbd33ef"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ObjectController.html#gaa6d011efe88c319bd8eee8742cbd33ef">com.example.controller.ObjectController.stopGame</a> ()</td></tr>
<tr class="memdesc:gaa6d011efe88c319bd8eee8742cbd33ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stops the game after the game has reached the round limit (5 rounds).  <br /></td></tr>
<tr class="separator:gaa6d011efe88c319bd8eee8742cbd33ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac04a93259827dd180b6e978be00ecf14" id="r_gac04a93259827dd180b6e978be00ecf14"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ObjectController.html#gac04a93259827dd180b6e978be00ecf14">com.example.controller.ObjectController.notifyControllerOfGameEnd</a> (String <a class="el" href="main_8cpp.html#a70bc8ad43b183ea20b92a43f8db65e58">controllerId</a>)</td></tr>
<tr class="memdesc:gac04a93259827dd180b6e978be00ecf14"><td class="mdescLeft">&#160;</td><td class="mdescRight">Notifies a controller that the game has ended.  <br /></td></tr>
<tr class="separator:gac04a93259827dd180b6e978be00ecf14"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Group for ObjectController class and its related components. </p>
<p>This group includes all functions related to handling MQTT messages, controller connections, color sequence generation, and various HTTP routes. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="gab69f182a2234d9bff2cc08be20767414" name="gab69f182a2234d9bff2cc08be20767414"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab69f182a2234d9bff2cc08be20767414">&#9670;&#160;</a></span>handleColorSequence()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Future&lt; Boolean &gt; com.example.controller.ObjectController.handleColorSequence </td>
          <td>(</td>
          <td class="paramtype">Buffer&#160;</td>
          <td class="paramname"><em>payload</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handles the incoming color sequence from the controller and compares it with the correct sequence. </p>
<p>Compares the received sequence with the correct one and updates points accordingly. Notifies the controller if they lost or won the round.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">payload</td><td>MQTT message payload containing the controller ID and received color sequence. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A Future&lt;Boolean&gt; indicating the success or failure of the sequence comparison. </dd></dl>

<p class="definition">Definition at line <a class="el" href="ObjectController_8java_source.html#l00526">526</a> of file <a class="el" href="ObjectController_8java_source.html">ObjectController.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  526</span>                                                               {</div>
<div class="line"><span class="lineno">  527</span>        Promise&lt;Boolean&gt; promise = Promise.promise();</div>
<div class="line"><span class="lineno">  528</span> </div>
<div class="line"><span class="lineno">  529</span>        JsonObject payloadJson = payload.toJsonObject();</div>
<div class="line"><span class="lineno">  530</span>        String <a class="code hl_variable" href="main_8cpp.html#a70bc8ad43b183ea20b92a43f8db65e58">controllerId</a> = payloadJson.getString(<span class="stringliteral">&quot;controllerId&quot;</span>);</div>
<div class="line"><span class="lineno">  531</span>        JsonArray receivedSequence = payloadJson.getJsonArray(<span class="stringliteral">&quot;sequence&quot;</span>);</div>
<div class="line"><span class="lineno">  532</span> </div>
<div class="line"><span class="lineno">  533</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="main_8cpp.html#a70bc8ad43b183ea20b92a43f8db65e58">controllerId</a> == <span class="keyword">null</span> || receivedSequence == <span class="keyword">null</span>) {</div>
<div class="line"><span class="lineno">  534</span>            <a class="code hl_variable" href="classcom_1_1example_1_1controller_1_1ObjectController.html#ae7ca3f1187a3cffc19ddcac07d60e7fb">logger</a>.error(<span class="stringliteral">&quot;Invalid payload: controllerId or sequence is missing&quot;</span>);</div>
<div class="line"><span class="lineno">  535</span>            promise.complete(<span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  536</span>            <span class="keywordflow">return</span> promise.future();</div>
<div class="line"><span class="lineno">  537</span>        }</div>
<div class="line"><span class="lineno">  538</span> </div>
<div class="line"><span class="lineno">  539</span>        <a class="code hl_variable" href="classcom_1_1example_1_1controller_1_1ObjectController.html#ae7ca3f1187a3cffc19ddcac07d60e7fb">logger</a>.debug(<span class="stringliteral">&quot;Received sequence for controller {}: {}&quot;</span>, <a class="code hl_variable" href="main_8cpp.html#a70bc8ad43b183ea20b92a43f8db65e58">controllerId</a>, receivedSequence.encode());</div>
<div class="line"><span class="lineno">  540</span> </div>
<div class="line"><span class="lineno">  541</span>        <a class="code hl_variable" href="classcom_1_1example_1_1controller_1_1ObjectController.html#a999b17a3da5026b8f5ffa08fc39e2ece">objectService</a>.compareSequenceAndAwardPoints(<a class="code hl_variable" href="main_8cpp.html#a70bc8ad43b183ea20b92a43f8db65e58">controllerId</a>, receivedSequence)</div>
<div class="line"><span class="lineno">  542</span>            .onSuccess(isMatch -&gt; {</div>
<div class="line"><span class="lineno">  543</span>                <span class="keywordflow">if</span> (isMatch) {</div>
<div class="line"><span class="lineno">  544</span>                    <a class="code hl_variable" href="classcom_1_1example_1_1controller_1_1ObjectController.html#ae7ca3f1187a3cffc19ddcac07d60e7fb">logger</a>.info(<span class="stringliteral">&quot;Sequence match! Points updated for controller: {}&quot;</span>, <a class="code hl_variable" href="main_8cpp.html#a70bc8ad43b183ea20b92a43f8db65e58">controllerId</a>);</div>
<div class="line"><span class="lineno">  545</span>                    <a class="code hl_function" href="group__ObjectController.html#ga462d8bf5aec34429c63d3970d323cc16">sendDisplayInfoToController</a>(<a class="code hl_variable" href="main_8cpp.html#a70bc8ad43b183ea20b92a43f8db65e58">controllerId</a>);</div>
<div class="line"><span class="lineno">  546</span>                    promise.complete(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  547</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  548</span>                    <a class="code hl_variable" href="classcom_1_1example_1_1controller_1_1ObjectController.html#ae7ca3f1187a3cffc19ddcac07d60e7fb">logger</a>.info(<span class="stringliteral">&quot;Sequence did not match for controller: {}&quot;</span>, <a class="code hl_variable" href="main_8cpp.html#a70bc8ad43b183ea20b92a43f8db65e58">controllerId</a>);</div>
<div class="line"><span class="lineno">  549</span>                    <a class="code hl_function" href="group__ObjectController.html#ga443e7374209f158597e1a6f70d5aae71">notifyControllerOfLoss</a>(<a class="code hl_variable" href="main_8cpp.html#a70bc8ad43b183ea20b92a43f8db65e58">controllerId</a>);</div>
<div class="line"><span class="lineno">  550</span>                    <a class="code hl_function" href="group__ObjectController.html#ga679b62513a09de532bd1fde5d92e8f38">handlePlayerLoss</a>(<a class="code hl_variable" href="main_8cpp.html#a70bc8ad43b183ea20b92a43f8db65e58">controllerId</a>);</div>
<div class="line"><span class="lineno">  551</span>                    promise.complete(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  552</span>                }</div>
<div class="line"><span class="lineno">  553</span>                <a class="code hl_variable" href="classcom_1_1example_1_1controller_1_1ObjectController.html#aac5dc1715a3537c4d44eef8288fb8d23">isWaitingForResponse</a>.set(<span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  554</span>                    promise.complete(isMatch);</div>
<div class="line"><span class="lineno">  555</span>            })</div>
<div class="line"><span class="lineno">  556</span>            .onFailure(cause -&gt; {</div>
<div class="line"><span class="lineno">  557</span>                <a class="code hl_variable" href="classcom_1_1example_1_1controller_1_1ObjectController.html#ae7ca3f1187a3cffc19ddcac07d60e7fb">logger</a>.error(<span class="stringliteral">&quot;Failed to compare sequence or update points: {}&quot;</span>, cause.getMessage());</div>
<div class="line"><span class="lineno">  558</span>                <a class="code hl_variable" href="classcom_1_1example_1_1controller_1_1ObjectController.html#aac5dc1715a3537c4d44eef8288fb8d23">isWaitingForResponse</a>.set(<span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  559</span>                promise.fail(cause);</div>
<div class="line"><span class="lineno">  560</span>            });</div>
<div class="line"><span class="lineno">  561</span> </div>
<div class="line"><span class="lineno">  562</span>        <span class="keywordflow">return</span> promise.future();</div>
<div class="line"><span class="lineno">  563</span>    }</div>
<div class="ttc" id="aclasscom_1_1example_1_1controller_1_1ObjectController_html_a999b17a3da5026b8f5ffa08fc39e2ece"><div class="ttname"><a href="classcom_1_1example_1_1controller_1_1ObjectController.html#a999b17a3da5026b8f5ffa08fc39e2ece">com.example.controller.ObjectController.objectService</a></div><div class="ttdeci">final ObjectService objectService</div><div class="ttdef"><b>Definition</b> <a href="ObjectController_8java_source.html#l00060">ObjectController.java:60</a></div></div>
<div class="ttc" id="aclasscom_1_1example_1_1controller_1_1ObjectController_html_aac5dc1715a3537c4d44eef8288fb8d23"><div class="ttname"><a href="classcom_1_1example_1_1controller_1_1ObjectController.html#aac5dc1715a3537c4d44eef8288fb8d23">com.example.controller.ObjectController.isWaitingForResponse</a></div><div class="ttdeci">AtomicBoolean isWaitingForResponse</div><div class="ttdef"><b>Definition</b> <a href="ObjectController_8java_source.html#l00350">ObjectController.java:350</a></div></div>
<div class="ttc" id="aclasscom_1_1example_1_1controller_1_1ObjectController_html_ae7ca3f1187a3cffc19ddcac07d60e7fb"><div class="ttname"><a href="classcom_1_1example_1_1controller_1_1ObjectController.html#ae7ca3f1187a3cffc19ddcac07d60e7fb">com.example.controller.ObjectController.logger</a></div><div class="ttdeci">static final Logger logger</div><div class="ttdef"><b>Definition</b> <a href="ObjectController_8java_source.html#l00059">ObjectController.java:59</a></div></div>
<div class="ttc" id="agroup__ObjectController_html_ga443e7374209f158597e1a6f70d5aae71"><div class="ttname"><a href="group__ObjectController.html#ga443e7374209f158597e1a6f70d5aae71">com.example.controller.ObjectController.notifyControllerOfLoss</a></div><div class="ttdeci">void notifyControllerOfLoss(String controllerId)</div><div class="ttdoc">Notifies a controller when a player has lost the game.</div><div class="ttdef"><b>Definition</b> <a href="ObjectController_8java_source.html#l00493">ObjectController.java:493</a></div></div>
<div class="ttc" id="agroup__ObjectController_html_ga462d8bf5aec34429c63d3970d323cc16"><div class="ttname"><a href="group__ObjectController.html#ga462d8bf5aec34429c63d3970d323cc16">com.example.controller.ObjectController.sendDisplayInfoToController</a></div><div class="ttdeci">void sendDisplayInfoToController(String controllerId)</div><div class="ttdoc">Sends display information to a specific controller.</div><div class="ttdef"><b>Definition</b> <a href="ObjectController_8java_source.html#l00758">ObjectController.java:758</a></div></div>
<div class="ttc" id="agroup__ObjectController_html_ga679b62513a09de532bd1fde5d92e8f38"><div class="ttname"><a href="group__ObjectController.html#ga679b62513a09de532bd1fde5d92e8f38">com.example.controller.ObjectController.handlePlayerLoss</a></div><div class="ttdeci">void handlePlayerLoss(String controllerId)</div><div class="ttdoc">Handles the event when a player loses the game.</div><div class="ttdef"><b>Definition</b> <a href="ObjectController_8java_source.html#l00574">ObjectController.java:574</a></div></div>
<div class="ttc" id="amain_8cpp_html_a70bc8ad43b183ea20b92a43f8db65e58"><div class="ttname"><a href="main_8cpp.html#a70bc8ad43b183ea20b92a43f8db65e58">controllerId</a></div><div class="ttdeci">String controllerId</div><div class="ttdef"><b>Definition</b> <a href="main_8cpp_source.html#l00139">main.cpp:139</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga25aa83340566181b97734d5b05138e1a" name="ga25aa83340566181b97734d5b05138e1a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga25aa83340566181b97734d5b05138e1a">&#9670;&#160;</a></span>handleControllerConnect()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void com.example.controller.ObjectController.handleControllerConnect </td>
          <td>(</td>
          <td class="paramtype">Buffer&#160;</td>
          <td class="paramname"><em>payload</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handles controller connection via MQTT message. </p>
<p>Registers the controller and publishes an acknowledgment message.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">payload</td><td>MQTT message payload containing controller ID. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="ObjectController_8java_source.html#l00180">180</a> of file <a class="el" href="ObjectController_8java_source.html">ObjectController.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  180</span>                                                         {</div>
<div class="line"><span class="lineno">  181</span>        String <a class="code hl_variable" href="main_8cpp.html#a70bc8ad43b183ea20b92a43f8db65e58">controllerId</a> = payload.toString();</div>
<div class="line"><span class="lineno">  182</span>        <a class="code hl_variable" href="classcom_1_1example_1_1controller_1_1ObjectController.html#ae7ca3f1187a3cffc19ddcac07d60e7fb">logger</a>.debug(<span class="stringliteral">&quot;Received connection from controller: {}&quot;</span>, <a class="code hl_variable" href="main_8cpp.html#a70bc8ad43b183ea20b92a43f8db65e58">controllerId</a>);</div>
<div class="line"><span class="lineno">  183</span> </div>
<div class="line"><span class="lineno">  184</span>        <span class="comment">// Register the controller in the service</span></div>
<div class="line"><span class="lineno">  185</span>        <a class="code hl_variable" href="classcom_1_1example_1_1controller_1_1ObjectController.html#a999b17a3da5026b8f5ffa08fc39e2ece">objectService</a>.registerController(<a class="code hl_variable" href="main_8cpp.html#a70bc8ad43b183ea20b92a43f8db65e58">controllerId</a>, res -&gt; {</div>
<div class="line"><span class="lineno">  186</span>            <span class="keywordflow">if</span> (res.succeeded()) {</div>
<div class="line"><span class="lineno">  187</span>                logger.info(<span class="stringliteral">&quot;Controller registered: {}&quot;</span>, controllerId);</div>
<div class="line"><span class="lineno">  188</span>                connectedControllers.add(controllerId);</div>
<div class="line"><span class="lineno">  189</span>                lastHeartbeat.put(controllerId, System.currentTimeMillis());</div>
<div class="line"><span class="lineno">  190</span>                <span class="comment">// Optionally publish an acknowledgment back to the controller</span></div>
<div class="line"><span class="lineno">  191</span>                mqttClient.publish(<span class="stringliteral">&quot;controller/ack&quot;</span>, Buffer.buffer(<span class="stringliteral">&quot;Connected: &quot;</span> + controllerId), MqttQoS.AT_LEAST_ONCE, false, false);</div>
<div class="line"><span class="lineno">  192</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  193</span>                logger.error(<span class="stringliteral">&quot;Failed to register controller: {}&quot;</span>, res.cause().getMessage());</div>
<div class="line"><span class="lineno">  194</span>            }</div>
<div class="line"><span class="lineno">  195</span>        });</div>
<div class="line"><span class="lineno">  196</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="gaeb2269378eb0e6de0525328e6bb0a1f0" name="gaeb2269378eb0e6de0525328e6bb0a1f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaeb2269378eb0e6de0525328e6bb0a1f0">&#9670;&#160;</a></span>handleControllerHeartbeat()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void com.example.controller.ObjectController.handleControllerHeartbeat </td>
          <td>(</td>
          <td class="paramtype">Buffer&#160;</td>
          <td class="paramname"><em>payload</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handles heartbeats from controllers via MQTT message. </p>
<p>Updates the heartbeat timestamp for the controller.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">payload</td><td>MQTT message payload containing controller heartbeat information. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="ObjectController_8java_source.html#l00206">206</a> of file <a class="el" href="ObjectController_8java_source.html">ObjectController.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  206</span>                                                           {</div>
<div class="line"><span class="lineno">  207</span>        JsonObject heartbeatJson = payload.toJsonObject();</div>
<div class="line"><span class="lineno">  208</span>        String <a class="code hl_variable" href="main_8cpp.html#a70bc8ad43b183ea20b92a43f8db65e58">controllerId</a> = heartbeatJson.getString(<span class="stringliteral">&quot;controllerId&quot;</span>);</div>
<div class="line"><span class="lineno">  209</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="main_8cpp.html#a70bc8ad43b183ea20b92a43f8db65e58">controllerId</a> != <span class="keyword">null</span>) {</div>
<div class="line"><span class="lineno">  210</span>            <a class="code hl_variable" href="classcom_1_1example_1_1controller_1_1ObjectController.html#a7da11989dd34ae564bd25914f5814853">lastHeartbeat</a>.put(<a class="code hl_variable" href="main_8cpp.html#a70bc8ad43b183ea20b92a43f8db65e58">controllerId</a>, System.currentTimeMillis());</div>
<div class="line"><span class="lineno">  211</span>            <a class="code hl_variable" href="classcom_1_1example_1_1controller_1_1ObjectController.html#ae7ca3f1187a3cffc19ddcac07d60e7fb">logger</a>.debug(<span class="stringliteral">&quot;Received heartbeat from controller: {}&quot;</span>, <a class="code hl_variable" href="main_8cpp.html#a70bc8ad43b183ea20b92a43f8db65e58">controllerId</a>);</div>
<div class="line"><span class="lineno">  212</span>        }</div>
<div class="line"><span class="lineno">  213</span>    }</div>
<div class="ttc" id="aclasscom_1_1example_1_1controller_1_1ObjectController_html_a7da11989dd34ae564bd25914f5814853"><div class="ttname"><a href="classcom_1_1example_1_1controller_1_1ObjectController.html#a7da11989dd34ae564bd25914f5814853">com.example.controller.ObjectController.lastHeartbeat</a></div><div class="ttdeci">Map&lt; String, Long &gt; lastHeartbeat</div><div class="ttdef"><b>Definition</b> <a href="ObjectController_8java_source.html#l00063">ObjectController.java:63</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="gae90804dd19d484e388fab44bab8b745d" name="gae90804dd19d484e388fab44bab8b745d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae90804dd19d484e388fab44bab8b745d">&#9670;&#160;</a></span>handleFetchControllers()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void com.example.controller.ObjectController.handleFetchControllers </td>
          <td>(</td>
          <td class="paramtype">RoutingContext&#160;</td>
          <td class="paramname"><em>ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handles fetching available controllers via HTTP GET. </p>
<p>Fetches the list of connected controllers from the service.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>RoutingContext of the HTTP request. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="ObjectController_8java_source.html#l00254">254</a> of file <a class="el" href="ObjectController_8java_source.html">ObjectController.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  254</span>                                                            {</div>
<div class="line"><span class="lineno">  255</span>        <span class="comment">// Call the service to get the available controllers</span></div>
<div class="line"><span class="lineno">  256</span>        <a class="code hl_variable" href="classcom_1_1example_1_1controller_1_1ObjectController.html#a999b17a3da5026b8f5ffa08fc39e2ece">objectService</a>.getAvailableControllers(ar -&gt; {</div>
<div class="line"><span class="lineno">  257</span>            <span class="keywordflow">if</span> (ar.succeeded()) {</div>
<div class="line"><span class="lineno">  258</span>                <span class="comment">// If the operation is successful, set the response header and body</span></div>
<div class="line"><span class="lineno">  259</span>                ctx.response()</div>
<div class="line"><span class="lineno">  260</span>                        .putHeader(<span class="stringliteral">&quot;content-type&quot;</span>, <span class="stringliteral">&quot;application/json&quot;</span>) <span class="comment">// Set the response content type to JSON</span></div>
<div class="line"><span class="lineno">  261</span>                        .end(ar.result().encode()); <span class="comment">// Encode the result as a JSON string and send the response</span></div>
<div class="line"><span class="lineno">  262</span>                logger.debug(<span class="stringliteral">&quot;Fetched available controllers&quot;</span>); <span class="comment">// Log success</span></div>
<div class="line"><span class="lineno">  263</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  264</span>                <span class="comment">// If the operation failed, set the response status code to 500 and send an error message</span></div>
<div class="line"><span class="lineno">  265</span>                ctx.response().setStatusCode(500).end(<span class="stringliteral">&quot;Failed to fetch controllers from database&quot;</span>);</div>
<div class="line"><span class="lineno">  266</span>                logger.error(<span class="stringliteral">&quot;Failed to fetch controllers from database: {}&quot;</span>, ar.cause().getMessage()); <span class="comment">// Log the error</span></div>
<div class="line"><span class="lineno">  267</span>            }</div>
<div class="line"><span class="lineno">  268</span>        });</div>
<div class="line"><span class="lineno">  269</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="gacd8601b8e920274af546dd8f57330e15" name="gacd8601b8e920274af546dd8f57330e15"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacd8601b8e920274af546dd8f57330e15">&#9670;&#160;</a></span>handleFetchRoundWinner()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void com.example.controller.ObjectController.handleFetchRoundWinner </td>
          <td>(</td>
          <td class="paramtype">RoutingContext&#160;</td>
          <td class="paramname"><em>ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handles fetching the winner of the current round via an HTTP request. </p>
<p>Retrieves the round winner from the service and sends the result back to the client.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>RoutingContext of the HTTP request. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="ObjectController_8java_source.html#l00622">622</a> of file <a class="el" href="ObjectController_8java_source.html">ObjectController.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  622</span>                                                            {</div>
<div class="line"><span class="lineno">  623</span>        <a class="code hl_variable" href="classcom_1_1example_1_1controller_1_1ObjectController.html#a999b17a3da5026b8f5ffa08fc39e2ece">objectService</a>.getRoundWinner(ar -&gt; {</div>
<div class="line"><span class="lineno">  624</span>            <span class="keywordflow">if</span> (ar.succeeded()) {</div>
<div class="line"><span class="lineno">  625</span>                JsonObject winner = ar.result();</div>
<div class="line"><span class="lineno">  626</span>                if (winner != null) {</div>
<div class="line"><span class="lineno">  627</span>                    int round = winner.getInteger(<span class="stringliteral">&quot;round&quot;</span>);</div>
<div class="line"><span class="lineno">  628</span>                    String name = winner.getString(<span class="stringliteral">&quot;name&quot;</span>);</div>
<div class="line"><span class="lineno">  629</span>                    ctx.response()</div>
<div class="line"><span class="lineno">  630</span>                        .putHeader(<span class="stringliteral">&quot;content-type&quot;</span>, <span class="stringliteral">&quot;application/json&quot;</span>)</div>
<div class="line"><span class="lineno">  631</span>                        .end(new JsonObject()</div>
<div class="line"><span class="lineno">  632</span>                             .put(<span class="stringliteral">&quot;round&quot;</span>, round)</div>
<div class="line"><span class="lineno">  633</span>                             .put(<span class="stringliteral">&quot;name&quot;</span>, name)</div>
<div class="line"><span class="lineno">  634</span>                             .encode());</div>
<div class="line"><span class="lineno">  635</span>                    logger.info(<span class="stringliteral">&quot;Fetched round winner: Round {}, {} (Score: {})&quot;</span>, round, name);</div>
<div class="line"><span class="lineno">  636</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  637</span>                    ctx.response()</div>
<div class="line"><span class="lineno">  638</span>                        .putHeader(<span class="stringliteral">&quot;content-type&quot;</span>, <span class="stringliteral">&quot;application/json&quot;</span>)</div>
<div class="line"><span class="lineno">  639</span>                        .end(new JsonObject().put(<span class="stringliteral">&quot;message&quot;</span>, <span class="stringliteral">&quot;No winner for this round yet.&quot;</span>).encode());</div>
<div class="line"><span class="lineno">  640</span>                    logger.info(<span class="stringliteral">&quot;No winner for this round yet.&quot;</span>);</div>
<div class="line"><span class="lineno">  641</span>                }</div>
<div class="line"><span class="lineno">  642</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  643</span>                ctx.response()</div>
<div class="line"><span class="lineno">  644</span>                    .setStatusCode(500)</div>
<div class="line"><span class="lineno">  645</span>                    .end(<span class="stringliteral">&quot;Failed to fetch round winner&quot;</span>);</div>
<div class="line"><span class="lineno">  646</span>                <a class="code hl_variable" href="classcom_1_1example_1_1controller_1_1ObjectController.html#ae7ca3f1187a3cffc19ddcac07d60e7fb">logger</a>.error(<span class="stringliteral">&quot;Failed to fetch round winner: {}&quot;</span>, ar.cause().getMessage());</div>
<div class="line"><span class="lineno">  647</span>            }</div>
<div class="line"><span class="lineno">  648</span>        });</div>
<div class="line"><span class="lineno">  649</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="gab636e581cc671a10d33af23559e4d715" name="gab636e581cc671a10d33af23559e4d715"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab636e581cc671a10d33af23559e4d715">&#9670;&#160;</a></span>handleGenerateSequence()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void com.example.controller.ObjectController.handleGenerateSequence </td>
          <td>(</td>
          <td class="paramtype">RoutingContext&#160;</td>
          <td class="paramname"><em>routingContext</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handles the generation of a color sequence for a game. </p>
<p>Fetches connected controllers and starts the game sequence generation process.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">routingContext</td><td>RoutingContext of the HTTP request. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="ObjectController_8java_source.html#l00366">366</a> of file <a class="el" href="ObjectController_8java_source.html">ObjectController.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  366</span>                                                                       {</div>
<div class="line"><span class="lineno">  367</span>        <span class="comment">// Retrieve the list of connected controllers</span></div>
<div class="line"><span class="lineno">  368</span>        <a class="code hl_variable" href="classcom_1_1example_1_1controller_1_1ObjectController.html#a999b17a3da5026b8f5ffa08fc39e2ece">objectService</a>.getConnectedControllers(connectedControllersResult -&gt; {</div>
<div class="line"><span class="lineno">  369</span>            <span class="keywordflow">if</span> (connectedControllersResult.succeeded()) {</div>
<div class="line"><span class="lineno">  370</span>                List&lt;String&gt; connectedControllers = connectedControllersResult.result();</div>
<div class="line"><span class="lineno">  371</span>                activePlayers.set(connectedControllers.size());</div>
<div class="line"><span class="lineno">  372</span> </div>
<div class="line"><span class="lineno">  373</span>                if (connectedControllers.isEmpty()) {</div>
<div class="line"><span class="lineno">  374</span>                    routingContext.response()</div>
<div class="line"><span class="lineno">  375</span>                        .setStatusCode(200)</div>
<div class="line"><span class="lineno">  376</span>                        .end(new JsonObject().put(<span class="stringliteral">&quot;message&quot;</span>, <span class="stringliteral">&quot;No connected controllers associated with users&quot;</span>).encode());</div>
<div class="line"><span class="lineno">  377</span>                    return;</div>
<div class="line"><span class="lineno">  378</span>                }</div>
<div class="line"><span class="lineno">  379</span> </div>
<div class="line"><span class="lineno">  380</span>                <span class="comment">// Send countdown and start the first round</span></div>
<div class="line"><span class="lineno">  381</span>                <a class="code hl_function" href="group__ObjectController.html#gad4cd39877e47d6564eda466c4a2599ce">sendCountdownToAllControllers</a>(<a class="code hl_variable" href="classcom_1_1example_1_1controller_1_1ObjectController.html#ade203d2b85a8800ef6ded915c842df5e">connectedControllers</a>);</div>
<div class="line"><span class="lineno">  382</span>                <span class="comment">// Start the sequence generation and sending process</span></div>
<div class="line"><span class="lineno">  383</span>                </div>
<div class="line"><span class="lineno">  384</span>                <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno">  385</span>                    <a class="code hl_function" href="group__ObjectController.html#gaeecefc5fed1967371a6fab2edb72880c">sendNextSequence</a>(<a class="code hl_variable" href="classcom_1_1example_1_1controller_1_1ObjectController.html#ade203d2b85a8800ef6ded915c842df5e">connectedControllers</a>);</div>
<div class="line"><span class="lineno">  386</span>                    routingContext.response()</div>
<div class="line"><span class="lineno">  387</span>                        .setStatusCode(200)</div>
<div class="line"><span class="lineno">  388</span>                        .end(<span class="keyword">new</span> JsonObject().put(<span class="stringliteral">&quot;message&quot;</span>, <span class="stringliteral">&quot;Game sequence generation started&quot;</span>).encode());</div>
<div class="line"><span class="lineno">  389</span>                } <span class="keywordflow">catch</span> (Exception e) {</div>
<div class="line"><span class="lineno">  390</span>                    <a class="code hl_variable" href="classcom_1_1example_1_1controller_1_1ObjectController.html#ae7ca3f1187a3cffc19ddcac07d60e7fb">logger</a>.error(<span class="stringliteral">&quot;Error while generating sequence: &quot;</span>, e);</div>
<div class="line"><span class="lineno">  391</span>                    routingContext.response()</div>
<div class="line"><span class="lineno">  392</span>                        .setStatusCode(500)</div>
<div class="line"><span class="lineno">  393</span>                        .end(<span class="keyword">new</span> JsonObject().put(<span class="stringliteral">&quot;error&quot;</span>, <span class="stringliteral">&quot;Failed to start sequence generation&quot;</span>).encode());</div>
<div class="line"><span class="lineno">  394</span>                }</div>
<div class="line"><span class="lineno">  395</span>                </div>
<div class="line"><span class="lineno">  396</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  397</span>                routingContext.response()</div>
<div class="line"><span class="lineno">  398</span>                    .setStatusCode(500)</div>
<div class="line"><span class="lineno">  399</span>                    .end(<span class="keyword">new</span> JsonObject().put(<span class="stringliteral">&quot;error&quot;</span>, <span class="stringliteral">&quot;Failed to retrieve connected controllers&quot;</span>).encode());</div>
<div class="line"><span class="lineno">  400</span>                <a class="code hl_variable" href="classcom_1_1example_1_1controller_1_1ObjectController.html#ae7ca3f1187a3cffc19ddcac07d60e7fb">logger</a>.error(<span class="stringliteral">&quot;Failed to retrieve connected controllers&quot;</span>, connectedControllersResult.cause());</div>
<div class="line"><span class="lineno">  401</span>            }</div>
<div class="line"><span class="lineno">  402</span>        });</div>
<div class="line"><span class="lineno">  403</span>    }</div>
<div class="ttc" id="aclasscom_1_1example_1_1controller_1_1ObjectController_html_ade203d2b85a8800ef6ded915c842df5e"><div class="ttname"><a href="classcom_1_1example_1_1controller_1_1ObjectController.html#ade203d2b85a8800ef6ded915c842df5e">com.example.controller.ObjectController.connectedControllers</a></div><div class="ttdeci">List&lt; String &gt; connectedControllers</div><div class="ttdef"><b>Definition</b> <a href="ObjectController_8java_source.html#l00355">ObjectController.java:355</a></div></div>
<div class="ttc" id="agroup__ObjectController_html_gad4cd39877e47d6564eda466c4a2599ce"><div class="ttname"><a href="group__ObjectController.html#gad4cd39877e47d6564eda466c4a2599ce">com.example.controller.ObjectController.sendCountdownToAllControllers</a></div><div class="ttdeci">Future&lt; Void &gt; sendCountdownToAllControllers(List&lt; String &gt; controllers)</div><div class="ttdoc">Sends a countdown signal to all connected controllers.</div><div class="ttdef"><b>Definition</b> <a href="ObjectController_8java_source.html#l00720">ObjectController.java:720</a></div></div>
<div class="ttc" id="agroup__ObjectController_html_gaeecefc5fed1967371a6fab2edb72880c"><div class="ttname"><a href="group__ObjectController.html#gaeecefc5fed1967371a6fab2edb72880c">com.example.controller.ObjectController.sendNextSequence</a></div><div class="ttdeci">Future&lt; Void &gt; sendNextSequence(List&lt; String &gt; controllers)</div><div class="ttdoc">Sends the next color sequence to the list of controllers.</div><div class="ttdef"><b>Definition</b> <a href="ObjectController_8java_source.html#l00437">ObjectController.java:437</a></div></div>
</div><!-- fragment --><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__ObjectController_gab636e581cc671a10d33af23559e4d715_cgraph.png" border="0" usemap="#agroup__ObjectController_gab636e581cc671a10d33af23559e4d715_cgraph" alt=""/></div>
<map name="agroup__ObjectController_gab636e581cc671a10d33af23559e4d715_cgraph" id="agroup__ObjectController_gab636e581cc671a10d33af23559e4d715_cgraph">
<area shape="rect" title="Handles the generation of a color sequence for a game." alt="" coords="5,37,261,77"/>
<area shape="rect" href="group__ObjectController.html#gad4cd39877e47d6564eda466c4a2599ce" title="Sends a countdown signal to all connected controllers." alt="" coords="309,5,604,45"/>
<area shape="poly" title=" " alt="" coords="261,42,295,39,296,44,262,47"/>
<area shape="rect" href="group__ObjectController.html#gaeecefc5fed1967371a6fab2edb72880c" title="Sends the next color sequence to the list of controllers." alt="" coords="345,69,568,109"/>
<area shape="poly" title=" " alt="" coords="262,67,332,74,331,80,261,73"/>
</map>
</div>

</div>
</div>
<a id="gadca9c59c49ea53cbd91300db4d3e144a" name="gadca9c59c49ea53cbd91300db4d3e144a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadca9c59c49ea53cbd91300db4d3e144a">&#9670;&#160;</a></span>handleLogin()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void com.example.controller.ObjectController.handleLogin </td>
          <td>(</td>
          <td class="paramtype">RoutingContext&#160;</td>
          <td class="paramname"><em>ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handles player login via HTTP POST. </p>
<p>Registers the player and creates a session for the given controller.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>RoutingContext of the HTTP request. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="ObjectController_8java_source.html#l00279">279</a> of file <a class="el" href="ObjectController_8java_source.html">ObjectController.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  279</span>                                                 {</div>
<div class="line"><span class="lineno">  280</span>        <span class="comment">// Extract username and controllerId from the HTTP request parameters</span></div>
<div class="line"><span class="lineno">  281</span>        String username = ctx.request().getParam(<span class="stringliteral">&quot;username&quot;</span>);</div>
<div class="line"><span class="lineno">  282</span>        String <a class="code hl_variable" href="main_8cpp.html#a70bc8ad43b183ea20b92a43f8db65e58">controllerId</a> = ctx.request().getParam(<span class="stringliteral">&quot;controller&quot;</span>);</div>
<div class="line"><span class="lineno">  283</span>    </div>
<div class="line"><span class="lineno">  284</span>        <span class="comment">// Check if username and controllerId are provided, if not return a 400 Bad Request</span></div>
<div class="line"><span class="lineno">  285</span>        <span class="keywordflow">if</span> (username == <span class="keyword">null</span> || <a class="code hl_variable" href="main_8cpp.html#a70bc8ad43b183ea20b92a43f8db65e58">controllerId</a> == <span class="keyword">null</span>) {</div>
<div class="line"><span class="lineno">  286</span>            ctx.response().setStatusCode(400).end(<span class="stringliteral">&quot;Username and Controller ID are required&quot;</span>);</div>
<div class="line"><span class="lineno">  287</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  288</span>        }</div>
<div class="line"><span class="lineno">  289</span>    </div>
<div class="line"><span class="lineno">  290</span>        <span class="comment">// Log the received login request for debugging purposes</span></div>
<div class="line"><span class="lineno">  291</span>        <a class="code hl_variable" href="classcom_1_1example_1_1controller_1_1ObjectController.html#ae7ca3f1187a3cffc19ddcac07d60e7fb">logger</a>.debug(<span class="stringliteral">&quot;Received login request for username: {} and controller: {}&quot;</span>, username, <a class="code hl_variable" href="main_8cpp.html#a70bc8ad43b183ea20b92a43f8db65e58">controllerId</a>);</div>
<div class="line"><span class="lineno">  292</span>    </div>
<div class="line"><span class="lineno">  293</span>        <span class="comment">// Call the service method to register the player and create a session</span></div>
<div class="line"><span class="lineno">  294</span>        <a class="code hl_variable" href="classcom_1_1example_1_1controller_1_1ObjectController.html#a999b17a3da5026b8f5ffa08fc39e2ece">objectService</a>.registerPlayerAndCreateSession(username, <a class="code hl_variable" href="main_8cpp.html#a70bc8ad43b183ea20b92a43f8db65e58">controllerId</a>, res -&gt; {</div>
<div class="line"><span class="lineno">  295</span>            <span class="keywordflow">if</span> (res.succeeded()) {</div>
<div class="line"><span class="lineno">  296</span>                <span class="comment">// On success, send a 200 OK response with a success message</span></div>
<div class="line"><span class="lineno">  297</span>                ctx.response().setStatusCode(200).end(<span class="stringliteral">&quot;Player registered and session created successfully&quot;</span>);</div>
<div class="line"><span class="lineno">  298</span>                logger.info(<span class="stringliteral">&quot;Player {} logged in with controller {}&quot;</span>, username, controllerId);</div>
<div class="line"><span class="lineno">  299</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  300</span>                <span class="comment">// On failure, send a 500 Internal Server Error response with an error message</span></div>
<div class="line"><span class="lineno">  301</span>                ctx.response().setStatusCode(500).end(<span class="stringliteral">&quot;Failed to register player or create session&quot;</span>);</div>
<div class="line"><span class="lineno">  302</span>                logger.error(<span class="stringliteral">&quot;Failed to register player or create session: {}&quot;</span>, res.cause().getMessage());</div>
<div class="line"><span class="lineno">  303</span>            }</div>
<div class="line"><span class="lineno">  304</span>        });</div>
<div class="line"><span class="lineno">  305</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="ga679b62513a09de532bd1fde5d92e8f38" name="ga679b62513a09de532bd1fde5d92e8f38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga679b62513a09de532bd1fde5d92e8f38">&#9670;&#160;</a></span>handlePlayerLoss()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void com.example.controller.ObjectController.handlePlayerLoss </td>
          <td>(</td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>controllerId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handles the event when a player loses the game. </p>
<p>Decrements the active player count and removes the disconnected controller from the list. If no players are left, starts a new round.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">controllerId</td><td>ID of the controller representing the player who lost. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="ObjectController_8java_source.html#l00574">574</a> of file <a class="el" href="ObjectController_8java_source.html">ObjectController.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  574</span>                                                       {</div>
<div class="line"><span class="lineno">  575</span>        <span class="keywordtype">int</span> remainingPlayers = <a class="code hl_variable" href="classcom_1_1example_1_1controller_1_1ObjectController.html#a8fef33fe6a4cc4bc44b4a3278a538599">activePlayers</a>.decrementAndGet();</div>
<div class="line"><span class="lineno">  576</span>        <a class="code hl_variable" href="classcom_1_1example_1_1controller_1_1ObjectController.html#ae7ca3f1187a3cffc19ddcac07d60e7fb">logger</a>.info(<span class="stringliteral">&quot;Player lost: {}. Remaining players: {}&quot;</span>, <a class="code hl_variable" href="main_8cpp.html#a70bc8ad43b183ea20b92a43f8db65e58">controllerId</a>, remainingPlayers);</div>
<div class="line"><span class="lineno">  577</span>    </div>
<div class="line"><span class="lineno">  578</span>        <span class="comment">// Remove the disconnected controller from the connectedControllers list</span></div>
<div class="line"><span class="lineno">  579</span>        <a class="code hl_variable" href="classcom_1_1example_1_1controller_1_1ObjectController.html#ade203d2b85a8800ef6ded915c842df5e">connectedControllers</a>.remove(<a class="code hl_variable" href="main_8cpp.html#a70bc8ad43b183ea20b92a43f8db65e58">controllerId</a>);</div>
<div class="line"><span class="lineno">  580</span>    </div>
<div class="line"><span class="lineno">  581</span>        <span class="keywordflow">if</span> (remainingPlayers &lt;= 0 ) {</div>
<div class="line"><span class="lineno">  582</span>            <a class="code hl_function" href="group__ObjectController.html#gafaa457c56aa3132d6139fcf6b4e5fd79">startNewRound</a>();</div>
<div class="line"><span class="lineno">  583</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  584</span>            <a class="code hl_variable" href="classcom_1_1example_1_1controller_1_1ObjectController.html#ae7ca3f1187a3cffc19ddcac07d60e7fb">logger</a>.info(<span class="stringliteral">&quot;Waiting for other players to complete their turns.&quot;</span>);</div>
<div class="line"><span class="lineno">  585</span>        }</div>
<div class="line"><span class="lineno">  586</span>    } </div>
<div class="ttc" id="aclasscom_1_1example_1_1controller_1_1ObjectController_html_a8fef33fe6a4cc4bc44b4a3278a538599"><div class="ttname"><a href="classcom_1_1example_1_1controller_1_1ObjectController.html#a8fef33fe6a4cc4bc44b4a3278a538599">com.example.controller.ObjectController.activePlayers</a></div><div class="ttdeci">AtomicInteger activePlayers</div><div class="ttdef"><b>Definition</b> <a href="ObjectController_8java_source.html#l00352">ObjectController.java:352</a></div></div>
<div class="ttc" id="agroup__ObjectController_html_gafaa457c56aa3132d6139fcf6b4e5fd79"><div class="ttname"><a href="group__ObjectController.html#gafaa457c56aa3132d6139fcf6b4e5fd79">com.example.controller.ObjectController.startNewRound</a></div><div class="ttdeci">void startNewRound()</div><div class="ttdoc">Starts a new game round after all players have lost or the round limit is reached.</div><div class="ttdef"><b>Definition</b> <a href="ObjectController_8java_source.html#l00658">ObjectController.java:658</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="gaac157ac040acc1443e41b20b54551b19" name="gaac157ac040acc1443e41b20b54551b19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaac157ac040acc1443e41b20b54551b19">&#9670;&#160;</a></span>handlePlayerStatus()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void com.example.controller.ObjectController.handlePlayerStatus </td>
          <td>(</td>
          <td class="paramtype">Buffer&#160;</td>
          <td class="paramname"><em>payload</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handles incoming player status updates from controllers via MQTT. </p>
<p>Processes status messages, such as a player losing the game.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">payload</td><td>MQTT message payload containing controller ID and player status. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="ObjectController_8java_source.html#l00596">596</a> of file <a class="el" href="ObjectController_8java_source.html">ObjectController.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  596</span>                                                    {</div>
<div class="line"><span class="lineno">  597</span>        JsonObject payloadJson = payload.toJsonObject();</div>
<div class="line"><span class="lineno">  598</span>        String <a class="code hl_variable" href="main_8cpp.html#a70bc8ad43b183ea20b92a43f8db65e58">controllerId</a> = payloadJson.getString(<span class="stringliteral">&quot;controllerId&quot;</span>);</div>
<div class="line"><span class="lineno">  599</span>        String status = payloadJson.getString(<span class="stringliteral">&quot;status&quot;</span>);</div>
<div class="line"><span class="lineno">  600</span> </div>
<div class="line"><span class="lineno">  601</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="main_8cpp.html#a70bc8ad43b183ea20b92a43f8db65e58">controllerId</a> == <span class="keyword">null</span> || status == <span class="keyword">null</span>) {</div>
<div class="line"><span class="lineno">  602</span>            <a class="code hl_variable" href="classcom_1_1example_1_1controller_1_1ObjectController.html#ae7ca3f1187a3cffc19ddcac07d60e7fb">logger</a>.error(<span class="stringliteral">&quot;Invalid payload: controllerId or status is missing&quot;</span>);</div>
<div class="line"><span class="lineno">  603</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  604</span>        }</div>
<div class="line"><span class="lineno">  605</span> </div>
<div class="line"><span class="lineno">  606</span>        <span class="keywordflow">if</span> (<span class="stringliteral">&quot;lost&quot;</span>.equals(status)) {</div>
<div class="line"><span class="lineno">  607</span>            <a class="code hl_function" href="group__ObjectController.html#ga679b62513a09de532bd1fde5d92e8f38">handlePlayerLoss</a>(<a class="code hl_variable" href="main_8cpp.html#a70bc8ad43b183ea20b92a43f8db65e58">controllerId</a>);</div>
<div class="line"><span class="lineno">  608</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  609</span>            <a class="code hl_variable" href="classcom_1_1example_1_1controller_1_1ObjectController.html#ae7ca3f1187a3cffc19ddcac07d60e7fb">logger</a>.warn(<span class="stringliteral">&quot;Unrecognized status &#39;{}&#39; for controller {}&quot;</span>, status, <a class="code hl_variable" href="main_8cpp.html#a70bc8ad43b183ea20b92a43f8db65e58">controllerId</a>);</div>
<div class="line"><span class="lineno">  610</span>        }</div>
<div class="line"><span class="lineno">  611</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="gab58e53b4e4f5f96c07cfe5992bf2bcb1" name="gab58e53b4e4f5f96c07cfe5992bf2bcb1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab58e53b4e4f5f96c07cfe5992bf2bcb1">&#9670;&#160;</a></span>handleRfidScan()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void com.example.controller.ObjectController.handleRfidScan </td>
          <td>(</td>
          <td class="paramtype">Buffer&#160;</td>
          <td class="paramname"><em>payload</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handles incoming RFID scan messages from controllers via MQTT. </p>
<p>Converts the payload to extract the controller ID and username, then registers the player. Notifies the frontend upon successful registration of the controller.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">payload</td><td>MQTT message payload containing RFID scan information. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="ObjectController_8java_source.html#l00317">317</a> of file <a class="el" href="ObjectController_8java_source.html">ObjectController.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  317</span>                                                {</div>
<div class="line"><span class="lineno">  318</span>        <span class="comment">// Convert the payload to a string to get the RFID tag</span></div>
<div class="line"><span class="lineno">  319</span>        String payloadStr = payload.toString();</div>
<div class="line"><span class="lineno">  320</span>        JsonObject json = <span class="keyword">new</span> JsonObject(payloadStr);</div>
<div class="line"><span class="lineno">  321</span>        String <a class="code hl_variable" href="main_8cpp.html#a70bc8ad43b183ea20b92a43f8db65e58">controllerId</a> = json.getString(<span class="stringliteral">&quot;controllerId&quot;</span>);</div>
<div class="line"><span class="lineno">  322</span>        String username = json.getString(<span class="stringliteral">&quot;username&quot;</span>);</div>
<div class="line"><span class="lineno">  323</span> </div>
<div class="line"><span class="lineno">  324</span>        </div>
<div class="line"><span class="lineno">  325</span>        <span class="comment">// Log the received RFID scan for debugging purposes</span></div>
<div class="line"><span class="lineno">  326</span>        <a class="code hl_variable" href="classcom_1_1example_1_1controller_1_1ObjectController.html#ae7ca3f1187a3cffc19ddcac07d60e7fb">logger</a>.debug(<span class="stringliteral">&quot;Received RFID scan with tag: {}&quot;</span>, payloadStr);</div>
<div class="line"><span class="lineno">  327</span> </div>
<div class="line"><span class="lineno">  328</span>        <span class="comment">// Call the service method to register the player using the RFID tag</span></div>
<div class="line"><span class="lineno">  329</span>        <a class="code hl_variable" href="classcom_1_1example_1_1controller_1_1ObjectController.html#a999b17a3da5026b8f5ffa08fc39e2ece">objectService</a>.registerPlayerWithRfid(payloadStr, res -&gt; {</div>
<div class="line"><span class="lineno">  330</span>            <span class="keywordflow">if</span> (res.succeeded()) {</div>
<div class="line"><span class="lineno">  331</span>                <span class="comment">// On success, log that the RFID scan was processed successfully</span></div>
<div class="line"><span class="lineno">  332</span>                logger.info(<span class="stringliteral">&quot;RFID scan processed successfully for tag: {}&quot;</span>, payloadStr);</div>
<div class="line"><span class="lineno">  333</span> </div>
<div class="line"><span class="lineno">  334</span>                <span class="comment">// Construct the message to notify the frontend</span></div>
<div class="line"><span class="lineno">  335</span>                JsonObject message = new JsonObject()</div>
<div class="line"><span class="lineno">  336</span>                    .put(<span class="stringliteral">&quot;action&quot;</span>, <span class="stringliteral">&quot;controller_assigned&quot;</span>)</div>
<div class="line"><span class="lineno">  337</span>                    .put(<span class="stringliteral">&quot;message&quot;</span>, <span class="stringliteral">&quot;Controller &quot;</span> + controllerId + <span class="stringliteral">&quot; connected to &quot;</span> + username); <span class="comment">// Message format</span></div>
<div class="line"><span class="lineno">  338</span> </div>
<div class="line"><span class="lineno">  339</span>                <span class="comment">// Publish the message to the &quot;frontend/notifications&quot; topic</span></div>
<div class="line"><span class="lineno">  340</span>                mqttClient.publish(<span class="stringliteral">&quot;frontend/notifications&quot;</span>, Buffer.buffer(message.encode()), MqttQoS.AT_LEAST_ONCE, false, false);</div>
<div class="line"><span class="lineno">  341</span> </div>
<div class="line"><span class="lineno">  342</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  343</span>                <span class="comment">// On failure, log the error with the failure cause</span></div>
<div class="line"><span class="lineno">  344</span>                logger.error(<span class="stringliteral">&quot;Failed to process RFID scan: {}&quot;</span>, res.cause().getMessage());</div>
<div class="line"><span class="lineno">  345</span>            }</div>
<div class="line"><span class="lineno">  346</span>        });</div>
<div class="line"><span class="lineno">  347</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="ga8a4bafbfb66abceed4fd0defc3632c91" name="ga8a4bafbfb66abceed4fd0defc3632c91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8a4bafbfb66abceed4fd0defc3632c91">&#9670;&#160;</a></span>handleSequenceRequest()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void com.example.controller.ObjectController.handleSequenceRequest </td>
          <td>(</td>
          <td class="paramtype">Buffer&#160;</td>
          <td class="paramname"><em>payload</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handles a request from the controller for the next color sequence. </p>
<p>Adds the controller to the waiting list and sends the next sequence if possible.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">payload</td><td>MQTT message payload containing the controller ID. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="ObjectController_8java_source.html#l00414">414</a> of file <a class="el" href="ObjectController_8java_source.html">ObjectController.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  414</span>                                                       {</div>
<div class="line"><span class="lineno">  415</span>    String <a class="code hl_variable" href="main_8cpp.html#a70bc8ad43b183ea20b92a43f8db65e58">controllerId</a> = payload.toString();</div>
<div class="line"><span class="lineno">  416</span>    <a class="code hl_variable" href="classcom_1_1example_1_1controller_1_1ObjectController.html#ae7ca3f1187a3cffc19ddcac07d60e7fb">logger</a>.debug(<span class="stringliteral">&quot;Received sequence request from controller: {}&quot;</span>, <a class="code hl_variable" href="main_8cpp.html#a70bc8ad43b183ea20b92a43f8db65e58">controllerId</a>);</div>
<div class="line"><span class="lineno">  417</span> </div>
<div class="line"><span class="lineno">  418</span>    <span class="comment">// Add the controller to the list of controllers waiting for the sequence</span></div>
<div class="line"><span class="lineno">  419</span>    <a class="code hl_variable" href="classcom_1_1example_1_1controller_1_1ObjectController.html#ad5d8e8288554b3ed4eff3e1893fd1429">controllersWaitingForSequence</a>.add(<a class="code hl_variable" href="main_8cpp.html#a70bc8ad43b183ea20b92a43f8db65e58">controllerId</a>);</div>
<div class="line"><span class="lineno">  420</span> </div>
<div class="line"><span class="lineno">  421</span>        <span class="comment">// If we&#39;re not already waiting for a response, start the sequence generation process</span></div>
<div class="line"><span class="lineno">  422</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="classcom_1_1example_1_1controller_1_1ObjectController.html#aac5dc1715a3537c4d44eef8288fb8d23">isWaitingForResponse</a>.get()) {</div>
<div class="line"><span class="lineno">  423</span>            <a class="code hl_variable" href="classcom_1_1example_1_1controller_1_1ObjectController.html#aac5dc1715a3537c4d44eef8288fb8d23">isWaitingForResponse</a>.set(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  424</span>            <a class="code hl_function" href="group__ObjectController.html#gaeecefc5fed1967371a6fab2edb72880c">sendNextSequence</a>(Arrays.asList(<a class="code hl_variable" href="main_8cpp.html#a70bc8ad43b183ea20b92a43f8db65e58">controllerId</a>));</div>
<div class="line"><span class="lineno">  425</span>        }</div>
<div class="line"><span class="lineno">  426</span>    }</div>
<div class="ttc" id="aclasscom_1_1example_1_1controller_1_1ObjectController_html_ad5d8e8288554b3ed4eff3e1893fd1429"><div class="ttname"><a href="classcom_1_1example_1_1controller_1_1ObjectController.html#ad5d8e8288554b3ed4eff3e1893fd1429">com.example.controller.ObjectController.controllersWaitingForSequence</a></div><div class="ttdeci">List&lt; String &gt; controllersWaitingForSequence</div><div class="ttdef"><b>Definition</b> <a href="ObjectController_8java_source.html#l00356">ObjectController.java:356</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="gaa1420ca36fd8c2244141b2e52ff394c9" name="gaa1420ca36fd8c2244141b2e52ff394c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa1420ca36fd8c2244141b2e52ff394c9">&#9670;&#160;</a></span>isControllerActive()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boolean com.example.controller.ObjectController.isControllerActive </td>
          <td>(</td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>controllerId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handles heartbeats from controllers via MQTT message. </p>
<p>Updates the heartbeat timestamp for the controller.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">payload</td><td>MQTT message payload containing controller heartbeat information. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="ObjectController_8java_source.html#l00241">241</a> of file <a class="el" href="ObjectController_8java_source.html">ObjectController.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  241</span>                                                            {</div>
<div class="line"><span class="lineno">  242</span>        Long lastBeat = <a class="code hl_variable" href="classcom_1_1example_1_1controller_1_1ObjectController.html#a7da11989dd34ae564bd25914f5814853">lastHeartbeat</a>.get(<a class="code hl_variable" href="main_8cpp.html#a70bc8ad43b183ea20b92a43f8db65e58">controllerId</a>);</div>
<div class="line"><span class="lineno">  243</span>        <span class="keywordflow">return</span> lastBeat != <span class="keyword">null</span> &amp;&amp; (System.currentTimeMillis() - lastBeat) &lt; <a class="code hl_variable" href="classcom_1_1example_1_1controller_1_1ObjectController.html#a8bba1b81f7d326889ed924347da5545f">HEARTBEAT_TIMEOUT</a>;</div>
<div class="line"><span class="lineno">  244</span>    }</div>
<div class="ttc" id="aclasscom_1_1example_1_1controller_1_1ObjectController_html_a8bba1b81f7d326889ed924347da5545f"><div class="ttname"><a href="classcom_1_1example_1_1controller_1_1ObjectController.html#a8bba1b81f7d326889ed924347da5545f">com.example.controller.ObjectController.HEARTBEAT_TIMEOUT</a></div><div class="ttdeci">static final long HEARTBEAT_TIMEOUT</div><div class="ttdef"><b>Definition</b> <a href="ObjectController_8java_source.html#l00064">ObjectController.java:64</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="gac04a93259827dd180b6e978be00ecf14" name="gac04a93259827dd180b6e978be00ecf14"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac04a93259827dd180b6e978be00ecf14">&#9670;&#160;</a></span>notifyControllerOfGameEnd()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void com.example.controller.ObjectController.notifyControllerOfGameEnd </td>
          <td>(</td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>controllerId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Notifies a controller that the game has ended. </p>
<p>Sends a "Game Over" message with the current round number to the controller's display topic.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">controllerId</td><td>ID of the controller to notify. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="ObjectController_8java_source.html#l00833">833</a> of file <a class="el" href="ObjectController_8java_source.html">ObjectController.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  833</span>                                                                {</div>
<div class="line"><span class="lineno">  834</span>        JsonObject endGameMessage = <span class="keyword">new</span> JsonObject()</div>
<div class="line"><span class="lineno">  835</span>            .put(<span class="stringliteral">&quot;round&quot;</span>, <a class="code hl_variable" href="classcom_1_1example_1_1controller_1_1ObjectController.html#a8fc85f9a40d97a42e29ccb98905aaf35">roundsPlayed</a>.get())</div>
<div class="line"><span class="lineno">  836</span>            .put(<span class="stringliteral">&quot;message&quot;</span>, <span class="stringliteral">&quot;Game Over!&quot;</span>);</div>
<div class="line"><span class="lineno">  837</span> </div>
<div class="line"><span class="lineno">  838</span>        String topic = <span class="stringliteral">&quot;oled/display/&quot;</span> + <a class="code hl_variable" href="main_8cpp.html#a70bc8ad43b183ea20b92a43f8db65e58">controllerId</a>;</div>
<div class="line"><span class="lineno">  839</span> </div>
<div class="line"><span class="lineno">  840</span>        <a class="code hl_variable" href="classcom_1_1example_1_1controller_1_1ObjectController.html#a0e8da72805cfdb56e88b5ab6a838f345">mqttClient</a>.publish(topic,</div>
<div class="line"><span class="lineno">  841</span>            Buffer.buffer(endGameMessage.encode()),</div>
<div class="line"><span class="lineno">  842</span>            MqttQoS.AT_LEAST_ONCE,</div>
<div class="line"><span class="lineno">  843</span>            <span class="keyword">false</span>,</div>
<div class="line"><span class="lineno">  844</span>            <span class="keyword">false</span>,</div>
<div class="line"><span class="lineno">  845</span>            ar -&gt; {</div>
<div class="line"><span class="lineno">  846</span>                if (ar.succeeded()) {</div>
<div class="line"><span class="lineno">  847</span>                    logger.info(<span class="stringliteral">&quot;Game end notification sent to controller: {}&quot;</span>, controllerId);</div>
<div class="line"><span class="lineno">  848</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  849</span>                    logger.error(<span class="stringliteral">&quot;Failed to send game end notification to controller: {}&quot;</span>, controllerId, ar.cause());</div>
<div class="line"><span class="lineno">  850</span>                }</div>
<div class="line"><span class="lineno">  851</span>            });</div>
<div class="line"><span class="lineno">  852</span>    }</div>
<div class="ttc" id="aclasscom_1_1example_1_1controller_1_1ObjectController_html_a0e8da72805cfdb56e88b5ab6a838f345"><div class="ttname"><a href="classcom_1_1example_1_1controller_1_1ObjectController.html#a0e8da72805cfdb56e88b5ab6a838f345">com.example.controller.ObjectController.mqttClient</a></div><div class="ttdeci">final MqttClient mqttClient</div><div class="ttdef"><b>Definition</b> <a href="ObjectController_8java_source.html#l00061">ObjectController.java:61</a></div></div>
<div class="ttc" id="aclasscom_1_1example_1_1controller_1_1ObjectController_html_a8fc85f9a40d97a42e29ccb98905aaf35"><div class="ttname"><a href="classcom_1_1example_1_1controller_1_1ObjectController.html#a8fc85f9a40d97a42e29ccb98905aaf35">com.example.controller.ObjectController.roundsPlayed</a></div><div class="ttdeci">AtomicInteger roundsPlayed</div><div class="ttdef"><b>Definition</b> <a href="ObjectController_8java_source.html#l00354">ObjectController.java:354</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga443e7374209f158597e1a6f70d5aae71" name="ga443e7374209f158597e1a6f70d5aae71"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga443e7374209f158597e1a6f70d5aae71">&#9670;&#160;</a></span>notifyControllerOfLoss()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void com.example.controller.ObjectController.notifyControllerOfLoss </td>
          <td>(</td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>controllerId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Notifies a controller when a player has lost the game. </p>
<p>Sends a "Game Over" message to the specified controller via MQTT.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">controllerId</td><td>ID of the controller to notify. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="ObjectController_8java_source.html#l00493">493</a> of file <a class="el" href="ObjectController_8java_source.html">ObjectController.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  493</span>                                                             {</div>
<div class="line"><span class="lineno">  494</span>        JsonObject lossMessage = <span class="keyword">new</span> JsonObject()</div>
<div class="line"><span class="lineno">  495</span>            .put(<span class="stringliteral">&quot;username&quot;</span>, <span class="stringliteral">&quot;Game Over&quot;</span>)</div>
<div class="line"><span class="lineno">  496</span>            .put(<span class="stringliteral">&quot;points&quot;</span>, 0)</div>
<div class="line"><span class="lineno">  497</span>            .put(<span class="stringliteral">&quot;round&quot;</span>, 0)</div>
<div class="line"><span class="lineno">  498</span>            .put(<span class="stringliteral">&quot;message&quot;</span>, <span class="stringliteral">&quot;You lost!&quot;</span>);</div>
<div class="line"><span class="lineno">  499</span> </div>
<div class="line"><span class="lineno">  500</span>        String topic = <span class="stringliteral">&quot;oled/display/&quot;</span> + <a class="code hl_variable" href="main_8cpp.html#a70bc8ad43b183ea20b92a43f8db65e58">controllerId</a>;</div>
<div class="line"><span class="lineno">  501</span> </div>
<div class="line"><span class="lineno">  502</span>        <a class="code hl_variable" href="classcom_1_1example_1_1controller_1_1ObjectController.html#a0e8da72805cfdb56e88b5ab6a838f345">mqttClient</a>.publish(topic,</div>
<div class="line"><span class="lineno">  503</span>            Buffer.buffer(lossMessage.encode()),</div>
<div class="line"><span class="lineno">  504</span>            MqttQoS.AT_LEAST_ONCE,</div>
<div class="line"><span class="lineno">  505</span>            <span class="keyword">false</span>,</div>
<div class="line"><span class="lineno">  506</span>            <span class="keyword">false</span>,</div>
<div class="line"><span class="lineno">  507</span>            ar -&gt; {</div>
<div class="line"><span class="lineno">  508</span>                if (ar.succeeded()) {</div>
<div class="line"><span class="lineno">  509</span>                    logger.info(<span class="stringliteral">&quot;Loss notification sent to controller: {}&quot;</span>, controllerId);</div>
<div class="line"><span class="lineno">  510</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  511</span>                    logger.error(<span class="stringliteral">&quot;Failed to send loss notification to controller: {}&quot;</span>, controllerId, ar.cause());</div>
<div class="line"><span class="lineno">  512</span>                }</div>
<div class="line"><span class="lineno">  513</span>            });</div>
<div class="line"><span class="lineno">  514</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="ga835f4dc90392e58c61095593bc8dd22f" name="ga835f4dc90392e58c61095593bc8dd22f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga835f4dc90392e58c61095593bc8dd22f">&#9670;&#160;</a></span>ObjectController()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">com.example.controller.ObjectController.ObjectController </td>
          <td>(</td>
          <td class="paramtype">Router&#160;</td>
          <td class="paramname"><em>router</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ObjectService&#160;</td>
          <td class="paramname"><em>objectService</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MqttClient&#160;</td>
          <td class="paramname"><em>mqttClient</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor for ObjectController class. </p>
<p>Initializes the controller with necessary services and sets up HTTP routes.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">router</td><td>Vert.x router to register HTTP routes. </td></tr>
    <tr><td class="paramname">objectService</td><td>Service for interacting with controllers and players. </td></tr>
    <tr><td class="paramname">mqttClient</td><td>MQTT client for handling MQTT messages. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="ObjectController_8java_source.html#l00076">76</a> of file <a class="el" href="ObjectController_8java_source.html">ObjectController.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   76</span>                                                                                               {</div>
<div class="line"><span class="lineno">   77</span>        this.objectService = <a class="code hl_variable" href="classcom_1_1example_1_1controller_1_1ObjectController.html#a999b17a3da5026b8f5ffa08fc39e2ece">objectService</a>;</div>
<div class="line"><span class="lineno">   78</span>        this.mqttClient = <a class="code hl_variable" href="classcom_1_1example_1_1controller_1_1ObjectController.html#a0e8da72805cfdb56e88b5ab6a838f345">mqttClient</a>;</div>
<div class="line"><span class="lineno">   79</span>        this.vertx = Vertx.vertx();</div>
<div class="line"><span class="lineno">   80</span>        <span class="comment">// Register routes</span></div>
<div class="line"><span class="lineno">   81</span> </div>
<div class="line"><span class="lineno">   82</span>        router.get(<span class="stringliteral">&quot;/api/controllers&quot;</span>).handler(this::handleFetchControllers);</div>
<div class="line"><span class="lineno">   83</span>        router.post(<span class="stringliteral">&quot;/api/login&quot;</span>).handler(this::handleLogin);</div>
<div class="line"><span class="lineno">   84</span>        router.post(<span class="stringliteral">&quot;/api/generate-sequence&quot;</span>).handler(this::handleGenerateSequence);</div>
<div class="line"><span class="lineno">   85</span>        router.get(<span class="stringliteral">&quot;/api/round-winner&quot;</span>).handler(this::handleFetchRoundWinner);         </div>
<div class="line"><span class="lineno">   86</span>       </div>
<div class="line"><span class="lineno">   87</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="gad4cd39877e47d6564eda466c4a2599ce" name="gad4cd39877e47d6564eda466c4a2599ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad4cd39877e47d6564eda466c4a2599ce">&#9670;&#160;</a></span>sendCountdownToAllControllers()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Future&lt; Void &gt; com.example.controller.ObjectController.sendCountdownToAllControllers </td>
          <td>(</td>
          <td class="paramtype">List&lt; String &gt;&#160;</td>
          <td class="paramname"><em>controllers</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sends a countdown signal to all connected controllers. </p>
<p>Iterates over the list of controllers and sends a countdown message to each one. Uses MQTT to publish the countdown signal.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">controllers</td><td>List of controller IDs to send the countdown to. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A Future&lt;Void&gt; that completes when all countdown messages are sent. </dd></dl>

<p class="definition">Definition at line <a class="el" href="ObjectController_8java_source.html#l00720">720</a> of file <a class="el" href="ObjectController_8java_source.html">ObjectController.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  720</span>                                                                                 {</div>
<div class="line"><span class="lineno">  721</span>        List&lt;Future&lt;Void&gt;&gt; futures = <span class="keyword">new</span> ArrayList&lt;&gt;();</div>
<div class="line"><span class="lineno">  722</span>        <span class="keywordflow">for</span> (String <a class="code hl_variable" href="main_8cpp.html#a70bc8ad43b183ea20b92a43f8db65e58">controllerId</a> : controllers) {</div>
<div class="line"><span class="lineno">  723</span>            futures.add(<a class="code hl_function" href="classcom_1_1example_1_1controller_1_1ObjectController.html#a40a72fcbe97347f47fc151b42c11febb">sendCountdown</a>(<a class="code hl_variable" href="main_8cpp.html#a70bc8ad43b183ea20b92a43f8db65e58">controllerId</a>));</div>
<div class="line"><span class="lineno">  724</span>        }</div>
<div class="line"><span class="lineno">  725</span>        <span class="keywordflow">return</span> Future.all(futures).mapEmpty();</div>
<div class="line"><span class="lineno">  726</span>    }</div>
<div class="ttc" id="aclasscom_1_1example_1_1controller_1_1ObjectController_html_a40a72fcbe97347f47fc151b42c11febb"><div class="ttname"><a href="classcom_1_1example_1_1controller_1_1ObjectController.html#a40a72fcbe97347f47fc151b42c11febb">com.example.controller.ObjectController.sendCountdown</a></div><div class="ttdeci">Future&lt; Void &gt; sendCountdown(String controllerId)</div><div class="ttdef"><b>Definition</b> <a href="ObjectController_8java_source.html#l00728">ObjectController.java:728</a></div></div>
</div><!-- fragment --><div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__ObjectController_gad4cd39877e47d6564eda466c4a2599ce_icgraph.png" border="0" usemap="#agroup__ObjectController_gad4cd39877e47d6564eda466c4a2599ce_icgraph" alt=""/></div>
<map name="agroup__ObjectController_gad4cd39877e47d6564eda466c4a2599ce_icgraph" id="agroup__ObjectController_gad4cd39877e47d6564eda466c4a2599ce_icgraph">
<area shape="rect" title="Sends a countdown signal to all connected controllers." alt="" coords="309,5,604,45"/>
<area shape="rect" href="group__ObjectController.html#gab636e581cc671a10d33af23559e4d715" title="Handles the generation of a color sequence for a game." alt="" coords="5,5,261,45"/>
<area shape="poly" title=" " alt="" coords="296,28,262,28,262,23,296,23"/>
</map>
</div>

</div>
</div>
<a id="ga462d8bf5aec34429c63d3970d323cc16" name="ga462d8bf5aec34429c63d3970d323cc16"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga462d8bf5aec34429c63d3970d323cc16">&#9670;&#160;</a></span>sendDisplayInfoToController()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void com.example.controller.ObjectController.sendDisplayInfoToController </td>
          <td>(</td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>controllerId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends display information to a specific controller. </p>
<p>Fetches the current round and corresponding display information from the service, then publishes it to the controller's display topic.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">controllerId</td><td>ID of the controller to send the display information to. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="ObjectController_8java_source.html#l00758">758</a> of file <a class="el" href="ObjectController_8java_source.html">ObjectController.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  758</span>                                                                 {</div>
<div class="line"><span class="lineno">  759</span>        <span class="comment">// First, fetch the current round</span></div>
<div class="line"><span class="lineno">  760</span>        <a class="code hl_variable" href="classcom_1_1example_1_1controller_1_1ObjectController.html#a999b17a3da5026b8f5ffa08fc39e2ece">objectService</a>.fetchCurrentRound(<a class="code hl_variable" href="main_8cpp.html#a70bc8ad43b183ea20b92a43f8db65e58">controllerId</a>)</div>
<div class="line"><span class="lineno">  761</span>            .compose(currentRound -&gt; </div>
<div class="line"><span class="lineno">  762</span>                <span class="comment">// Then fetch the display info for that round</span></div>
<div class="line"><span class="lineno">  763</span>                <a class="code hl_variable" href="classcom_1_1example_1_1controller_1_1ObjectController.html#a999b17a3da5026b8f5ffa08fc39e2ece">objectService</a>.fetchDisplayInfo(<a class="code hl_variable" href="main_8cpp.html#a70bc8ad43b183ea20b92a43f8db65e58">controllerId</a>, currentRound)</div>
<div class="line"><span class="lineno">  764</span>            )</div>
<div class="line"><span class="lineno">  765</span>            .onSuccess(displayInfo -&gt; {</div>
<div class="line"><span class="lineno">  766</span>                <span class="keywordflow">if</span> (displayInfo != <span class="keyword">null</span> &amp;&amp; !displayInfo.isEmpty()) {</div>
<div class="line"><span class="lineno">  767</span>                    String message = displayInfo.encode();</div>
<div class="line"><span class="lineno">  768</span>                    String topic = <span class="stringliteral">&quot;oled/display/&quot;</span> + controllerId;</div>
<div class="line"><span class="lineno">  769</span>                    </div>
<div class="line"><span class="lineno">  770</span>                    mqttClient.publish(topic,</div>
<div class="line"><span class="lineno">  771</span>                        Buffer.buffer(message),</div>
<div class="line"><span class="lineno">  772</span>                        MqttQoS.AT_LEAST_ONCE,</div>
<div class="line"><span class="lineno">  773</span>                        false,</div>
<div class="line"><span class="lineno">  774</span>                        false,</div>
<div class="line"><span class="lineno">  775</span>                        ar -&gt; {</div>
<div class="line"><span class="lineno">  776</span>                            if (ar.succeeded()) {</div>
<div class="line"><span class="lineno">  777</span>                                logger.info(<span class="stringliteral">&quot;Display info sent to controller {}: {}&quot;</span>, controllerId, message);</div>
<div class="line"><span class="lineno">  778</span>                            } else {</div>
<div class="line"><span class="lineno">  779</span>                                logger.error(<span class="stringliteral">&quot;Failed to send display info to controller {}: {}&quot;</span>, controllerId, ar.cause());</div>
<div class="line"><span class="lineno">  780</span>                            }</div>
<div class="line"><span class="lineno">  781</span>                        });</div>
<div class="line"><span class="lineno">  782</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  783</span>                    <a class="code hl_variable" href="classcom_1_1example_1_1controller_1_1ObjectController.html#ae7ca3f1187a3cffc19ddcac07d60e7fb">logger</a>.error(<span class="stringliteral">&quot;No display info found for controller {}&quot;</span>, <a class="code hl_variable" href="main_8cpp.html#a70bc8ad43b183ea20b92a43f8db65e58">controllerId</a>);</div>
<div class="line"><span class="lineno">  784</span>                }</div>
<div class="line"><span class="lineno">  785</span>            })</div>
<div class="line"><span class="lineno">  786</span>            .onFailure(cause -&gt; <a class="code hl_variable" href="classcom_1_1example_1_1controller_1_1ObjectController.html#ae7ca3f1187a3cffc19ddcac07d60e7fb">logger</a>.error(<span class="stringliteral">&quot;Failed to fetch display info: {}&quot;</span>, cause.getMessage()));</div>
<div class="line"><span class="lineno">  787</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="gaeecefc5fed1967371a6fab2edb72880c" name="gaeecefc5fed1967371a6fab2edb72880c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaeecefc5fed1967371a6fab2edb72880c">&#9670;&#160;</a></span>sendNextSequence()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Future&lt; Void &gt; com.example.controller.ObjectController.sendNextSequence </td>
          <td>(</td>
          <td class="paramtype">List&lt; String &gt;&#160;</td>
          <td class="paramname"><em>controllers</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sends the next color sequence to the list of controllers. </p>
<p>Generates a color sequence and publishes it to the active controllers.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">controllers</td><td>List of active controllers. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A future representing the completion of the operation. </dd></dl>

<p class="definition">Definition at line <a class="el" href="ObjectController_8java_source.html#l00437">437</a> of file <a class="el" href="ObjectController_8java_source.html">ObjectController.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  437</span>                                                                    {</div>
<div class="line"><span class="lineno">  438</span>    Promise&lt;Void&gt; promise = Promise.promise();</div>
<div class="line"><span class="lineno">  439</span>    </div>
<div class="line"><span class="lineno">  440</span>    <span class="comment">// Generate a single color sequence for this round</span></div>
<div class="line"><span class="lineno">  441</span>    <a class="code hl_variable" href="classcom_1_1example_1_1controller_1_1ObjectController.html#a0909c183d3d8a1ec087b5c35db2c3671">currentColorSequence</a> = <a class="code hl_variable" href="classcom_1_1example_1_1controller_1_1ObjectController.html#a999b17a3da5026b8f5ffa08fc39e2ece">objectService</a>.generateColorSequence();</div>
<div class="line"><span class="lineno">  442</span>    String message = <a class="code hl_variable" href="classcom_1_1example_1_1controller_1_1ObjectController.html#a0909c183d3d8a1ec087b5c35db2c3671">currentColorSequence</a>.encode();</div>
<div class="line"><span class="lineno">  443</span>    </div>
<div class="line"><span class="lineno">  444</span>    List&lt;Future&lt;Void&gt;&gt; publishFutures = <span class="keyword">new</span> ArrayList&lt;&gt;();</div>
<div class="line"><span class="lineno">  445</span>    </div>
<div class="line"><span class="lineno">  446</span>    <span class="keywordflow">for</span> (String <a class="code hl_variable" href="main_8cpp.html#a70bc8ad43b183ea20b92a43f8db65e58">controllerId</a> : controllers) {</div>
<div class="line"><span class="lineno">  447</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="group__ObjectController.html#gaa1420ca36fd8c2244141b2e52ff394c9">isControllerActive</a>(<a class="code hl_variable" href="main_8cpp.html#a70bc8ad43b183ea20b92a43f8db65e58">controllerId</a>)) {</div>
<div class="line"><span class="lineno">  448</span>            String topic = <span class="stringliteral">&quot;neopixel/display&quot;</span> + <a class="code hl_variable" href="main_8cpp.html#a70bc8ad43b183ea20b92a43f8db65e58">controllerId</a>;</div>
<div class="line"><span class="lineno">  449</span>            Promise&lt;Void&gt; publishPromise = Promise.promise();</div>
<div class="line"><span class="lineno">  450</span>            </div>
<div class="line"><span class="lineno">  451</span>            <a class="code hl_variable" href="classcom_1_1example_1_1controller_1_1ObjectController.html#a0e8da72805cfdb56e88b5ab6a838f345">mqttClient</a>.publish(topic,</div>
<div class="line"><span class="lineno">  452</span>                Buffer.buffer(message),</div>
<div class="line"><span class="lineno">  453</span>                MqttQoS.AT_LEAST_ONCE,</div>
<div class="line"><span class="lineno">  454</span>                <span class="keyword">false</span>,</div>
<div class="line"><span class="lineno">  455</span>                <span class="keyword">false</span>,</div>
<div class="line"><span class="lineno">  456</span>                ar -&gt; {</div>
<div class="line"><span class="lineno">  457</span>                    if (ar.succeeded()) {</div>
<div class="line"><span class="lineno">  458</span>                        logger.info(<span class="stringliteral">&quot;Color sequence sent to controller {}: {}&quot;</span>, controllerId, message);</div>
<div class="line"><span class="lineno">  459</span>                        publishPromise.complete();</div>
<div class="line"><span class="lineno">  460</span>                    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  461</span>                        logger.error(<span class="stringliteral">&quot;Failed to send color sequence to controller {}&quot;</span>, controllerId, ar.cause());</div>
<div class="line"><span class="lineno">  462</span>                        publishPromise.fail(ar.cause());</div>
<div class="line"><span class="lineno">  463</span>                    }</div>
<div class="line"><span class="lineno">  464</span>                });</div>
<div class="line"><span class="lineno">  465</span>            publishFutures.add(publishPromise.future());</div>
<div class="line"><span class="lineno">  466</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  467</span>            <a class="code hl_variable" href="classcom_1_1example_1_1controller_1_1ObjectController.html#ae7ca3f1187a3cffc19ddcac07d60e7fb">logger</a>.warn(<span class="stringliteral">&quot;Controller {} is not active, skipping sequence send&quot;</span>, <a class="code hl_variable" href="main_8cpp.html#a70bc8ad43b183ea20b92a43f8db65e58">controllerId</a>);</div>
<div class="line"><span class="lineno">  468</span>        }</div>
<div class="line"><span class="lineno">  469</span>    }</div>
<div class="line"><span class="lineno">  470</span>    </div>
<div class="line"><span class="lineno">  471</span>    <span class="comment">// Wait for all publish operations to complete</span></div>
<div class="line"><span class="lineno">  472</span>    Future.all(publishFutures).onComplete(ar -&gt; {</div>
<div class="line"><span class="lineno">  473</span>        <span class="keywordflow">if</span> (ar.succeeded()) {</div>
<div class="line"><span class="lineno">  474</span>            logger.info(<span class="stringliteral">&quot;Sequence sent to all active controllers for round {}&quot;</span>, roundsPlayed.get());</div>
<div class="line"><span class="lineno">  475</span>            promise.complete();</div>
<div class="line"><span class="lineno">  476</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  477</span>            logger.error(<span class="stringliteral">&quot;Failed to send sequence to all controllers&quot;</span>, ar.cause());</div>
<div class="line"><span class="lineno">  478</span>            promise.fail(ar.cause());</div>
<div class="line"><span class="lineno">  479</span>        }</div>
<div class="line"><span class="lineno">  480</span>    });</div>
<div class="line"><span class="lineno">  481</span>    </div>
<div class="line"><span class="lineno">  482</span>    <span class="keywordflow">return</span> promise.future();</div>
<div class="line"><span class="lineno">  483</span>    }</div>
<div class="ttc" id="aclasscom_1_1example_1_1controller_1_1ObjectController_html_a0909c183d3d8a1ec087b5c35db2c3671"><div class="ttname"><a href="classcom_1_1example_1_1controller_1_1ObjectController.html#a0909c183d3d8a1ec087b5c35db2c3671">com.example.controller.ObjectController.currentColorSequence</a></div><div class="ttdeci">JsonArray currentColorSequence</div><div class="ttdef"><b>Definition</b> <a href="ObjectController_8java_source.html#l00351">ObjectController.java:351</a></div></div>
<div class="ttc" id="agroup__ObjectController_html_gaa1420ca36fd8c2244141b2e52ff394c9"><div class="ttname"><a href="group__ObjectController.html#gaa1420ca36fd8c2244141b2e52ff394c9">com.example.controller.ObjectController.isControllerActive</a></div><div class="ttdeci">boolean isControllerActive(String controllerId)</div><div class="ttdoc">Handles heartbeats from controllers via MQTT message.</div><div class="ttdef"><b>Definition</b> <a href="ObjectController_8java_source.html#l00241">ObjectController.java:241</a></div></div>
</div><!-- fragment --><div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__ObjectController_gaeecefc5fed1967371a6fab2edb72880c_icgraph.png" border="0" usemap="#agroup__ObjectController_gaeecefc5fed1967371a6fab2edb72880c_icgraph" alt=""/></div>
<map name="agroup__ObjectController_gaeecefc5fed1967371a6fab2edb72880c_icgraph" id="agroup__ObjectController_gaeecefc5fed1967371a6fab2edb72880c_icgraph">
<area shape="rect" title="Sends the next color sequence to the list of controllers." alt="" coords="309,5,532,45"/>
<area shape="rect" href="group__ObjectController.html#gab636e581cc671a10d33af23559e4d715" title="Handles the generation of a color sequence for a game." alt="" coords="5,5,261,45"/>
<area shape="poly" title=" " alt="" coords="296,28,262,28,262,23,296,23"/>
</map>
</div>

</div>
</div>
<a id="gac3b127ab502a4f74e2a1a65be5554172" name="gac3b127ab502a4f74e2a1a65be5554172"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac3b127ab502a4f74e2a1a65be5554172">&#9670;&#160;</a></span>setupMqttHandlers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void com.example.controller.ObjectController.setupMqttHandlers </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets up MQTT message handlers for controller interactions. </p>
<p>Handles MQTT messages for controller connections, RFID scans, color sequences, and heartbeats. </p>

<p class="definition">Definition at line <a class="el" href="ObjectController_8java_source.html#l00096">96</a> of file <a class="el" href="ObjectController_8java_source.html">ObjectController.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   96</span>                                    {</div>
<div class="line"><span class="lineno">   97</span> </div>
<div class="line"><span class="lineno">   98</span>        <a class="code hl_variable" href="classcom_1_1example_1_1controller_1_1ObjectController.html#ae7ca3f1187a3cffc19ddcac07d60e7fb">logger</a>.debug(<span class="stringliteral">&quot;Setting up MQTT Handlers&quot;</span>);</div>
<div class="line"><span class="lineno">   99</span>        <span class="comment">// Subscribe to the topic for controller connections with QoS level 1</span></div>
<div class="line"><span class="lineno">  100</span>        <a class="code hl_variable" href="classcom_1_1example_1_1controller_1_1ObjectController.html#a0e8da72805cfdb56e88b5ab6a838f345">mqttClient</a>.publishHandler(message -&gt; {</div>
<div class="line"><span class="lineno">  101</span>            <a class="code hl_variable" href="classcom_1_1example_1_1controller_1_1ObjectController.html#ae7ca3f1187a3cffc19ddcac07d60e7fb">logger</a>.debug(<span class="stringliteral">&quot;Received Message: {}&quot;</span>, message);</div>
<div class="line"><span class="lineno">  102</span>            <span class="keywordflow">if</span> (<span class="stringliteral">&quot;controller/connect&quot;</span>.equals(message.topicName())) {</div>
<div class="line"><span class="lineno">  103</span>                handleControllerConnect(message.payload());</div>
<div class="line"><span class="lineno">  104</span>            }</div>
<div class="line"><span class="lineno">  105</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<span class="stringliteral">&quot;controller/rfid&quot;</span>.equals(message.topicName())){</div>
<div class="line"><span class="lineno">  106</span>               handleRfidScan(message.payload());</div>
<div class="line"><span class="lineno">  107</span>            }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(<span class="stringliteral">&quot;controller/color_sequence&quot;</span>.equals(message.topicName())){</div>
<div class="line"><span class="lineno">  108</span>                handleColorSequence(message.payload());</div>
<div class="line"><span class="lineno">  109</span>            }<span class="keywordflow">else</span> if (<span class="stringliteral">&quot;controller/request_sequence&quot;</span>.equals(message.topicName())) {</div>
<div class="line"><span class="lineno">  110</span>                handleSequenceRequest(message.payload());</div>
<div class="line"><span class="lineno">  111</span>            }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(<span class="stringliteral">&quot;controller/playerstatus&quot;</span>.equals(message.topicName())){</div>
<div class="line"><span class="lineno">  112</span>                handlePlayerStatus(message.payload());</div>
<div class="line"><span class="lineno">  113</span>            }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(<span class="stringliteral">&quot;controller/status&quot;</span>.equals(message.topicName())){</div>
<div class="line"><span class="lineno">  114</span>                handleControllerStatus(message.payload());</div>
<div class="line"><span class="lineno">  115</span>            }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(<span class="stringliteral">&quot;controller/heartbeat&quot;</span>.equals(message.topicName())){</div>
<div class="line"><span class="lineno">  116</span>                handleControllerHeartbeat(message.payload());</div>
<div class="line"><span class="lineno">  117</span>            }   </div>
<div class="line"><span class="lineno">  118</span>        });</div>
<div class="line"><span class="lineno">  119</span>        <a class="code hl_variable" href="classcom_1_1example_1_1controller_1_1ObjectController.html#a0e8da72805cfdb56e88b5ab6a838f345">mqttClient</a>.subscribe(<span class="stringliteral">&quot;controller/connect&quot;</span>, MqttQoS.EXACTLY_ONCE.value())</div>
<div class="line"><span class="lineno">  120</span>        .onSuccess(packetId -&gt; {</div>
<div class="line"><span class="lineno">  121</span>            <a class="code hl_variable" href="classcom_1_1example_1_1controller_1_1ObjectController.html#ae7ca3f1187a3cffc19ddcac07d60e7fb">logger</a>.info(<span class="stringliteral">&quot;Subscribed to controller/connect topic successfully with packet id {}&quot;</span>, packetId);</div>
<div class="line"><span class="lineno">  122</span>        })</div>
<div class="line"><span class="lineno">  123</span>        .onFailure(cause -&gt; {</div>
<div class="line"><span class="lineno">  124</span>            <a class="code hl_variable" href="classcom_1_1example_1_1controller_1_1ObjectController.html#ae7ca3f1187a3cffc19ddcac07d60e7fb">logger</a>.error(<span class="stringliteral">&quot;Failed to subscribe to controller/connect topic: {}&quot;</span>, cause.getMessage());</div>
<div class="line"><span class="lineno">  125</span>        });</div>
<div class="line"><span class="lineno">  126</span>        <a class="code hl_variable" href="classcom_1_1example_1_1controller_1_1ObjectController.html#a0e8da72805cfdb56e88b5ab6a838f345">mqttClient</a>.subscribe(<span class="stringliteral">&quot;controller/rfid&quot;</span>, MqttQoS.EXACTLY_ONCE.value())</div>
<div class="line"><span class="lineno">  127</span>        .onSuccess(packetId -&gt; {</div>
<div class="line"><span class="lineno">  128</span>            <a class="code hl_variable" href="classcom_1_1example_1_1controller_1_1ObjectController.html#ae7ca3f1187a3cffc19ddcac07d60e7fb">logger</a>.info(<span class="stringliteral">&quot;Subscribed to controller/rfid topic successfully with packet id {}&quot;</span>, packetId);</div>
<div class="line"><span class="lineno">  129</span>        })</div>
<div class="line"><span class="lineno">  130</span>        .onFailure(cause -&gt; {</div>
<div class="line"><span class="lineno">  131</span>            <a class="code hl_variable" href="classcom_1_1example_1_1controller_1_1ObjectController.html#ae7ca3f1187a3cffc19ddcac07d60e7fb">logger</a>.error(<span class="stringliteral">&quot;Failed to subscribe to controller/rfid topic: {}&quot;</span>, cause.getMessage());</div>
<div class="line"><span class="lineno">  132</span>        });</div>
<div class="line"><span class="lineno">  133</span>        <a class="code hl_variable" href="classcom_1_1example_1_1controller_1_1ObjectController.html#a0e8da72805cfdb56e88b5ab6a838f345">mqttClient</a>.subscribe(<span class="stringliteral">&quot;controller/color_sequence&quot;</span>, MqttQoS.EXACTLY_ONCE.value())</div>
<div class="line"><span class="lineno">  134</span>        .onSuccess(packetId -&gt; {</div>
<div class="line"><span class="lineno">  135</span>            <a class="code hl_variable" href="classcom_1_1example_1_1controller_1_1ObjectController.html#ae7ca3f1187a3cffc19ddcac07d60e7fb">logger</a>.info(<span class="stringliteral">&quot;Subscribed to controller/color_sequence topic successfully with packet id {}&quot;</span>, packetId);</div>
<div class="line"><span class="lineno">  136</span>        })</div>
<div class="line"><span class="lineno">  137</span>        .onFailure(cause -&gt; {</div>
<div class="line"><span class="lineno">  138</span>            <a class="code hl_variable" href="classcom_1_1example_1_1controller_1_1ObjectController.html#ae7ca3f1187a3cffc19ddcac07d60e7fb">logger</a>.error(<span class="stringliteral">&quot;Failed to subscribe to controller/color_sequence topic: {}&quot;</span>, cause.getMessage());</div>
<div class="line"><span class="lineno">  139</span>        });</div>
<div class="line"><span class="lineno">  140</span>        <a class="code hl_variable" href="classcom_1_1example_1_1controller_1_1ObjectController.html#a0e8da72805cfdb56e88b5ab6a838f345">mqttClient</a>.subscribe(<span class="stringliteral">&quot;controller/request_sequence&quot;</span>, MqttQoS.AT_LEAST_ONCE.value())</div>
<div class="line"><span class="lineno">  141</span>            .onSuccess(packetId -&gt; {</div>
<div class="line"><span class="lineno">  142</span>                <a class="code hl_variable" href="classcom_1_1example_1_1controller_1_1ObjectController.html#ae7ca3f1187a3cffc19ddcac07d60e7fb">logger</a>.info(<span class="stringliteral">&quot;Subscribed to controller/request_sequence topic successfully with packet id {}&quot;</span>, packetId);</div>
<div class="line"><span class="lineno">  143</span>            })</div>
<div class="line"><span class="lineno">  144</span>            .onFailure(cause -&gt; {</div>
<div class="line"><span class="lineno">  145</span>                <a class="code hl_variable" href="classcom_1_1example_1_1controller_1_1ObjectController.html#ae7ca3f1187a3cffc19ddcac07d60e7fb">logger</a>.error(<span class="stringliteral">&quot;Failed to subscribe to controller/request_sequence topic: {}&quot;</span>, cause.getMessage());</div>
<div class="line"><span class="lineno">  146</span>        });</div>
<div class="line"><span class="lineno">  147</span>        <a class="code hl_variable" href="classcom_1_1example_1_1controller_1_1ObjectController.html#a0e8da72805cfdb56e88b5ab6a838f345">mqttClient</a>.subscribe(<span class="stringliteral">&quot;controller/playerstatus&quot;</span>, MqttQoS.AT_LEAST_ONCE.value())</div>
<div class="line"><span class="lineno">  148</span>            .onSuccess(packetId -&gt; {</div>
<div class="line"><span class="lineno">  149</span>                <a class="code hl_variable" href="classcom_1_1example_1_1controller_1_1ObjectController.html#ae7ca3f1187a3cffc19ddcac07d60e7fb">logger</a>.info(<span class="stringliteral">&quot;Subscribed to controller/playerstatus topic successfully with packet id {}&quot;</span>, packetId);</div>
<div class="line"><span class="lineno">  150</span>            })</div>
<div class="line"><span class="lineno">  151</span>            .onFailure(cause -&gt; {</div>
<div class="line"><span class="lineno">  152</span>                <a class="code hl_variable" href="classcom_1_1example_1_1controller_1_1ObjectController.html#ae7ca3f1187a3cffc19ddcac07d60e7fb">logger</a>.error(<span class="stringliteral">&quot;Failed to subscribe to controller/playerstatus topic: {}&quot;</span>, cause.getMessage());</div>
<div class="line"><span class="lineno">  153</span>        });</div>
<div class="line"><span class="lineno">  154</span>        <a class="code hl_variable" href="classcom_1_1example_1_1controller_1_1ObjectController.html#a0e8da72805cfdb56e88b5ab6a838f345">mqttClient</a>.subscribe(<span class="stringliteral">&quot;controller/status&quot;</span>, MqttQoS.AT_LEAST_ONCE.value())</div>
<div class="line"><span class="lineno">  155</span>            .onSuccess(packetId -&gt; {</div>
<div class="line"><span class="lineno">  156</span>                <a class="code hl_variable" href="classcom_1_1example_1_1controller_1_1ObjectController.html#ae7ca3f1187a3cffc19ddcac07d60e7fb">logger</a>.info(<span class="stringliteral">&quot;Subscribed to controller/status topic successfully with packet id {}&quot;</span>, packetId);</div>
<div class="line"><span class="lineno">  157</span>            })</div>
<div class="line"><span class="lineno">  158</span>            .onFailure(cause -&gt; {</div>
<div class="line"><span class="lineno">  159</span>                <a class="code hl_variable" href="classcom_1_1example_1_1controller_1_1ObjectController.html#ae7ca3f1187a3cffc19ddcac07d60e7fb">logger</a>.error(<span class="stringliteral">&quot;Failed to subscribe to controller/status topic: {}&quot;</span>, cause.getMessage());</div>
<div class="line"><span class="lineno">  160</span>        });</div>
<div class="line"><span class="lineno">  161</span>        <a class="code hl_variable" href="classcom_1_1example_1_1controller_1_1ObjectController.html#a0e8da72805cfdb56e88b5ab6a838f345">mqttClient</a>.subscribe(<span class="stringliteral">&quot;controller/heartbeat&quot;</span>, MqttQoS.AT_LEAST_ONCE.value())</div>
<div class="line"><span class="lineno">  162</span>            .onSuccess(packetId -&gt; {</div>
<div class="line"><span class="lineno">  163</span>                <a class="code hl_variable" href="classcom_1_1example_1_1controller_1_1ObjectController.html#ae7ca3f1187a3cffc19ddcac07d60e7fb">logger</a>.info(<span class="stringliteral">&quot;Subscribed to controller/heartbeat topic successfully with packet id {}&quot;</span>, packetId);</div>
<div class="line"><span class="lineno">  164</span>            })</div>
<div class="line"><span class="lineno">  165</span>            .onFailure(cause -&gt; {</div>
<div class="line"><span class="lineno">  166</span>                <a class="code hl_variable" href="classcom_1_1example_1_1controller_1_1ObjectController.html#ae7ca3f1187a3cffc19ddcac07d60e7fb">logger</a>.error(<span class="stringliteral">&quot;Failed to subscribe to controller/heartbeat topic: {}&quot;</span>, cause.getMessage());</div>
<div class="line"><span class="lineno">  167</span>        });</div>
<div class="line"><span class="lineno">  168</span>    }  </div>
</div><!-- fragment -->
</div>
</div>
<a id="gafaa457c56aa3132d6139fcf6b4e5fd79" name="gafaa457c56aa3132d6139fcf6b4e5fd79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafaa457c56aa3132d6139fcf6b4e5fd79">&#9670;&#160;</a></span>startNewRound()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void com.example.controller.ObjectController.startNewRound </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Starts a new game round after all players have lost or the round limit is reached. </p>
<p>Resets the game state, increments the round counter, and starts a new round for all connected controllers. </p>

<p class="definition">Definition at line <a class="el" href="ObjectController_8java_source.html#l00658">658</a> of file <a class="el" href="ObjectController_8java_source.html">ObjectController.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  658</span>                                 {</div>
<div class="line"><span class="lineno">  659</span>    </div>
<div class="line"><span class="lineno">  660</span>        <a class="code hl_variable" href="classcom_1_1example_1_1controller_1_1ObjectController.html#ae7ca3f1187a3cffc19ddcac07d60e7fb">logger</a>.info(<span class="stringliteral">&quot;All players have lost. Starting a new round.&quot;</span>);</div>
<div class="line"><span class="lineno">  661</span> </div>
<div class="line"><span class="lineno">  662</span>        <span class="comment">// Increment the round counter</span></div>
<div class="line"><span class="lineno">  663</span>        <span class="keywordtype">int</span> currentRound = <a class="code hl_variable" href="classcom_1_1example_1_1controller_1_1ObjectController.html#a8fc85f9a40d97a42e29ccb98905aaf35">roundsPlayed</a>.incrementAndGet();</div>
<div class="line"><span class="lineno">  664</span>        <a class="code hl_variable" href="classcom_1_1example_1_1controller_1_1ObjectController.html#ae7ca3f1187a3cffc19ddcac07d60e7fb">logger</a>.info(<span class="stringliteral">&quot;Starting round number: {}&quot;</span>, currentRound);</div>
<div class="line"><span class="lineno">  665</span> </div>
<div class="line"><span class="lineno">  666</span>        <span class="comment">// Check if the round limit has been reached</span></div>
<div class="line"><span class="lineno">  667</span>        <span class="keywordflow">if</span> (currentRound &gt; 4) {</div>
<div class="line"><span class="lineno">  668</span>            <a class="code hl_function" href="group__ObjectController.html#gaa6d011efe88c319bd8eee8742cbd33ef">stopGame</a>();</div>
<div class="line"><span class="lineno">  669</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  670</span>        }</div>
<div class="line"><span class="lineno">  671</span> </div>
<div class="line"><span class="lineno">  672</span>        <a class="code hl_variable" href="classcom_1_1example_1_1controller_1_1ObjectController.html#a999b17a3da5026b8f5ffa08fc39e2ece">objectService</a>.getConnectedControllers(ar -&gt; {</div>
<div class="line"><span class="lineno">  673</span>            <span class="keywordflow">if</span> (ar.succeeded()) {</div>
<div class="line"><span class="lineno">  674</span>                List&lt;String&gt; connectedControllers = ar.result();</div>
<div class="line"><span class="lineno">  675</span>                activePlayers.set(connectedControllers.size());</div>
<div class="line"><span class="lineno">  676</span>                </div>
<div class="line"><span class="lineno">  677</span>                <span class="comment">// Send countdown signal to all controllers</span></div>
<div class="line"><span class="lineno">  678</span>                sendCountdownToAllControllers(connectedControllers)</div>
<div class="line"><span class="lineno">  679</span>                    .compose(v -&gt; {</div>
<div class="line"><span class="lineno">  680</span>                        <span class="comment">// Wait for 4 seconds (3 second countdown + 1 second &quot;GO!&quot;)</span></div>
<div class="line"><span class="lineno">  681</span>                        Promise&lt;Void&gt; timerPromise = Promise.promise();</div>
<div class="line"><span class="lineno">  682</span>                        vertx.setTimer(4000, id -&gt; {</div>
<div class="line"><span class="lineno">  683</span>                            timerPromise.complete();</div>
<div class="line"><span class="lineno">  684</span>                        });</div>
<div class="line"><span class="lineno">  685</span>                        return timerPromise.future();</div>
<div class="line"><span class="lineno">  686</span>                    })</div>
<div class="line"><span class="lineno">  687</span>                    .compose(v -&gt; {</div>
<div class="line"><span class="lineno">  688</span>                        List&lt;Future&lt;Void&gt;&gt; futures = <span class="keyword">new</span> ArrayList&lt;&gt;();</div>
<div class="line"><span class="lineno">  689</span>                        <span class="keywordflow">for</span> (String <a class="code hl_variable" href="main_8cpp.html#a70bc8ad43b183ea20b92a43f8db65e58">controllerId</a> : <a class="code hl_variable" href="classcom_1_1example_1_1controller_1_1ObjectController.html#ade203d2b85a8800ef6ded915c842df5e">connectedControllers</a>) {</div>
<div class="line"><span class="lineno">  690</span>                            futures.add(<a class="code hl_variable" href="classcom_1_1example_1_1controller_1_1ObjectController.html#a999b17a3da5026b8f5ffa08fc39e2ece">objectService</a>.createNewRound(<a class="code hl_variable" href="main_8cpp.html#a70bc8ad43b183ea20b92a43f8db65e58">controllerId</a>)</div>
<div class="line"><span class="lineno">  691</span>                                .compose(v2 -&gt; {</div>
<div class="line"><span class="lineno">  692</span>                                    sendNextSequence(connectedControllers);</div>
<div class="line"><span class="lineno">  693</span>                                    return Future.succeededFuture();</div>
<div class="line"><span class="lineno">  694</span>                                }));</div>
<div class="line"><span class="lineno">  695</span>                        }</div>
<div class="line"><span class="lineno">  696</span>                        <span class="keywordflow">return</span> Future.all(futures);</div>
<div class="line"><span class="lineno">  697</span>                    })</div>
<div class="line"><span class="lineno">  698</span>                    .onSuccess(v -&gt; {</div>
<div class="line"><span class="lineno">  699</span>                        <a class="code hl_variable" href="classcom_1_1example_1_1controller_1_1ObjectController.html#ae7ca3f1187a3cffc19ddcac07d60e7fb">logger</a>.info(<span class="stringliteral">&quot;New round started successfully for all controllers&quot;</span>);</div>
<div class="line"><span class="lineno">  700</span>                    })</div>
<div class="line"><span class="lineno">  701</span>                    .onFailure(cause -&gt; {</div>
<div class="line"><span class="lineno">  702</span>                        <a class="code hl_variable" href="classcom_1_1example_1_1controller_1_1ObjectController.html#ae7ca3f1187a3cffc19ddcac07d60e7fb">logger</a>.error(<span class="stringliteral">&quot;Failed to start new round&quot;</span>, cause);</div>
<div class="line"><span class="lineno">  703</span>                    });</div>
<div class="line"><span class="lineno">  704</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  705</span>                <a class="code hl_variable" href="classcom_1_1example_1_1controller_1_1ObjectController.html#ae7ca3f1187a3cffc19ddcac07d60e7fb">logger</a>.error(<span class="stringliteral">&quot;Failed to retrieve connected controllers for new round&quot;</span>, ar.cause());</div>
<div class="line"><span class="lineno">  706</span>            }</div>
<div class="line"><span class="lineno">  707</span>        });</div>
<div class="line"><span class="lineno">  708</span>    }</div>
<div class="ttc" id="agroup__ObjectController_html_gaa6d011efe88c319bd8eee8742cbd33ef"><div class="ttname"><a href="group__ObjectController.html#gaa6d011efe88c319bd8eee8742cbd33ef">com.example.controller.ObjectController.stopGame</a></div><div class="ttdeci">void stopGame()</div><div class="ttdoc">Stops the game after the game has reached the round limit (5 rounds).</div><div class="ttdef"><b>Definition</b> <a href="ObjectController_8java_source.html#l00797">ObjectController.java:797</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="gaa6d011efe88c319bd8eee8742cbd33ef" name="gaa6d011efe88c319bd8eee8742cbd33ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa6d011efe88c319bd8eee8742cbd33ef">&#9670;&#160;</a></span>stopGame()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void com.example.controller.ObjectController.stopGame </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Stops the game after the game has reached the round limit (5 rounds). </p>
<p>Retrieves all connected controllers, sends a game-over message, and updates the high scores for each player. </p>

<p class="definition">Definition at line <a class="el" href="ObjectController_8java_source.html#l00797">797</a> of file <a class="el" href="ObjectController_8java_source.html">ObjectController.java</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  797</span>                            {</div>
<div class="line"><span class="lineno">  798</span>        <a class="code hl_variable" href="classcom_1_1example_1_1controller_1_1ObjectController.html#ae7ca3f1187a3cffc19ddcac07d60e7fb">logger</a>.info(<span class="stringliteral">&quot;Game has reached 5 rounds. Stopping the game.&quot;</span>);</div>
<div class="line"><span class="lineno">  799</span>        </div>
<div class="line"><span class="lineno">  800</span>        <a class="code hl_variable" href="classcom_1_1example_1_1controller_1_1ObjectController.html#a999b17a3da5026b8f5ffa08fc39e2ece">objectService</a>.getConnectedControllers(ar -&gt; {</div>
<div class="line"><span class="lineno">  801</span>            <span class="keywordflow">if</span> (ar.succeeded()) {</div>
<div class="line"><span class="lineno">  802</span>                List&lt;String&gt; connectedControllers = ar.result();</div>
<div class="line"><span class="lineno">  803</span>                List&lt;Future&lt;Void&gt;&gt; futures = new ArrayList&lt;&gt;();</div>
<div class="line"><span class="lineno">  804</span>                </div>
<div class="line"><span class="lineno">  805</span>                for (String controllerId : connectedControllers) {</div>
<div class="line"><span class="lineno">  806</span>                    notifyControllerOfGameEnd(controllerId);</div>
<div class="line"><span class="lineno">  807</span>                    <span class="comment">// Assuming updatePlayerHighScore returns Future&lt;Void&gt;</span></div>
<div class="line"><span class="lineno">  808</span>                    futures.add(objectService.updatePlayerHighScore(controllerId));</div>
<div class="line"><span class="lineno">  809</span>                }</div>
<div class="line"><span class="lineno">  810</span>                </div>
<div class="line"><span class="lineno">  811</span>                Future.all(futures).onComplete(result -&gt; {</div>
<div class="line"><span class="lineno">  812</span>                    if (result.succeeded()) {</div>
<div class="line"><span class="lineno">  813</span>                        logger.info(<span class="stringliteral">&quot;Game ended and high scores updated for all players.&quot;</span>);</div>
<div class="line"><span class="lineno">  814</span>                    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  815</span>                        logger.error(<span class="stringliteral">&quot;Error occurred while updating high scores&quot;</span>, result.cause());</div>
<div class="line"><span class="lineno">  816</span>                    }</div>
<div class="line"><span class="lineno">  817</span>                });</div>
<div class="line"><span class="lineno">  818</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  819</span>                <a class="code hl_variable" href="classcom_1_1example_1_1controller_1_1ObjectController.html#ae7ca3f1187a3cffc19ddcac07d60e7fb">logger</a>.error(<span class="stringliteral">&quot;Failed to get connected controllers&quot;</span>, ar.cause());</div>
<div class="line"><span class="lineno">  820</span>            }</div>
<div class="line"><span class="lineno">  821</span>        });</div>
<div class="line"><span class="lineno">  822</span>    }</div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
